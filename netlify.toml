[build]
  publish = "public"
  command = ""

[functions]
  directory = "netlify/functions"

# SPA routing (hash routes also work, but this keeps direct links alive)
[[redirects]]
  from = "/admin"
  to = "/admin/index.html"
  status = 200

[[redirects]]
  from = "/admin/*"
  to = "/admin/index.html"
  status = 200

[[redirects]]
  from = "/profile"
  to = "/profile.html"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Disable browser caching completely (helps avoid “old JS/CSS” after deploy)
[[headers]]
  for = "/*"
  [headers.values]
    Cache-Control = "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0"
    Pragma = "no-cache"
    Expires = "0"
    Surrogate-Control = "no-store"
