
<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ExamHouse.uz — Onlayn test va olimpiadalar</title>
  <base href="/"/>
  <link rel="stylesheet" href="assets/css/style.css?v=8.0"/>
</head>
<body>
  <div id="header-slot"></div>
  <div id="menu-slot"></div>

  <main class="container">
    <section class="promo-hero mt-2">
      <h1 class="promo-title">Yirik onlayn olimpiada musobaqalari</h1>
      <div class="promo-sub">Sovrinlar, sertifikatlar va real vaqt reytinglari. Har bir sinf uchun zamonaviy testlar.</div>
      <div class="promo-perks">
        <div class="perk">🏆 Sovrinlar</div>
        <div class="perk">📜 Sertifikat</div>
        <div class="perk">⚡ Tezkor natijalar</div>
        <div class="perk">🛡️ Antiplagiat</div>
        <div class="perk">📊 Reyting</div>
      </div>
      <div class="promo-cta">
        <a class="btn btn-primary" href="/pages/olimpiada-oquvchilar.html">Olimpiadalarga o'tish</a>
        <a class="btn" href="/pages/dtm.html">DTM tayyorgarlik</a>
      </div>
<!-- === ExamHouse – Online Test Card (single file) === -->
<style>
  /* scoped styles (eh-*) */
  .eh-card{--bd:rgba(255,255,255,.1);--muted:#b7cbc6;--accent:#22c55e;
    color:#e9f5f1;background:linear-gradient(180deg,rgba(34,197,94,.10),rgba(34,197,94,.03));
    border:1px solid var(--bd);border-radius:16px;padding:14px;box-shadow:0 10px 30px rgba(0,0,0,.35);max-width:900px}
  .eh-head{display:grid;gap:6px}
  .eh-title{font-weight:900;font-size:18px}
  .eh-meta{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-size:14px}
  .eh-body{display:grid;gap:8px;margin-top:6px}
  .eh-pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:#10201d;font-size:12px;margin-right:6px}
  .eh-chip{display:inline-flex;align-items:center;padding:4px 8px;border-radius:10px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);font-size:12px;margin-right:6px}
  .eh-timer{font-weight:700;font-family:ui-monospace, Menlo, Consolas, monospace}
  .eh-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}
  .eh-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid var(--bd);background:#0e1917;color:#e9f5f1;text-decoration:none}
  .eh-btn-ghost{background:transparent}
  .eh-btn-primary{background:linear-gradient(180deg,rgba(16,185,129,.35),rgba(16,185,129,.18));border-color:rgba(34,197,94,.35)}
  .eh-hidden{display:none!important}
  .eh-open{outline:2px solid var(--accent);box-shadow:0 0 0 4px rgba(52,211,153,.12),0 10px 30px rgba(0,0,0,.35)}
  .eh-open .eh-timer{color:#86efac}
  .eh-soon .eh-timer{color:#facc15}
  .eh-ended{opacity:.75}
  .eh-pulse{animation:ehPulse 1.4s infinite}
  @keyframes ehPulse{0%{box-shadow:0 0 0 0 rgba(16,185,129,.55)}70%{box-shadow:0 0 0 16px rgba(16,185,129,0)}100%{box-shadow:0 0 0 0 rgba(16,185,129,0)}}
</style>

<div class="eh-card"
     data-start="2025-10-04T20:00:00+05:00"   <!-- boshlanish (Asia/Tashkent, ISO) -->
     data-duration-min="120">                 <!-- test davomiyligi (daq) -->
  <div class="eh-head">
    <div class="eh-title">DTM Kuzgi Maxsus</div>
    <div class="eh-meta">
      <span class="eh-when">📅 —</span>
      <span>🎁 1-o'rin: Noutbuk</span>
    </div>
  </div>

  <div class="eh-body">
    <div>
      <span class="eh-pill">7-sinf</span>
      <span class="eh-pill">8-sinf</span>
    </div>
    <div>
      <span class="eh-chip">Matematika</span>
      <span class="eh-chip">Ona tili</span>
    </div>
    <div class="eh-timer">⏳ —:—:—</div>
  </div>

  <div class="eh-actions">
    <a class="eh-btn eh-btn-ghost" href="/pages/dtm.html">Batafsil</a>
    <a class="eh-btn eh-btn-primary eh-hidden" href="/pages/dtm.html#start" data-role="start">Boshlash</a>
  </div>
</div>

<script>
  // === Minimal JS: 5 daqiqa oldin "Boshlash" ochiladi, 2 soat o‘tib "Natijalar" bo‘ladi
  (function(){
    const tz = 'Asia/Tashkent';
    const pad = n => String(n).padStart(2,'0');
    const hms = ms => {
      if(ms<=0) return '00:00:00';
      const s = Math.floor(ms/1000), d = Math.floor(s/86400);
      const hh = pad(Math.floor((s%86400)/3600)), mm = pad(Math.floor((s%3600)/60)), ss = pad(s%60);
      return (d>0? d+'d ':'') + `${hh}:${mm}:${ss}`;
    };
    const fmt = d => new Date(d).toLocaleString('uz-UZ',{timeZone:tz,year:'numeric',month:'short',day:'2-digit',hour:'2-digit',minute:'2-digit'});

    const cards = document.querySelectorAll('.eh-card');
    cards.forEach(card=>{
      const startISO = card.getAttribute('data-start');
      const durMin = parseInt(card.getAttribute('data-duration-min')||'120',10);
      const start = new Date(startISO).getTime();
      const open = start - 5*60*1000;
      const end  = start + durMin*60*1000;

      // sana/vaqtni yozib qo'yamiz
      const whenEl = card.querySelector('.eh-when');
      if(whenEl){ whenEl.textContent = '📅 ' + fmt(startISO); }

      const timerEl = card.querySelector('.eh-timer');
      const startBtn = card.querySelector('[data-role="start"]');

      const tick = ()=>{
        const now = Date.now();
        card.classList.remove('eh-open','eh-soon','eh-ended');

        if(now < open){
          const left = open - now;
          timerEl.textContent = '⏳ ' + hms(left);
          startBtn.classList.add('eh-hidden');
          if(left <= 5*60*1000) card.classList.add('eh-soon');
        } else if (now <= end) {
          timerEl.textContent = '✅ Boshlash ochiq';
          startBtn.classList.remove('eh-hidden');
          startBtn.classList.add('eh-pulse');
          card.classList.add('eh-open');
        } else {
          timerEl.textContent = '🏁 Yakunlandi';
          startBtn.textContent = 'Natijalar';
          startBtn.classList.remove('eh-pulse');
          card.classList.add('eh-ended');
        }
      };
      tick();
      setInterval(tick, 1000);
    });
  })();
</script>

    </section>

    <section id="ads-grid" class="mt-2"></section>
  </main>

  <div id="footer-slot"></div>

  <script type="module" src="assets/js/app.js?v=8.0"></script>
  <script type="module" src="assets/js/ads.js?v=8.0"></script>
</body>
</html>
