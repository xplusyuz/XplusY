<!DOCTYPE html>
<html lang="uz" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>X+Y.uz — Zamonaviy Matematika Platformasi</title>
  <meta name="description" content="X+Y.uz — onlayn testlar, musobaqalar, simulyatorlar va matematika o'yinlari." />
  <meta name="theme-color" content="#0b1220" id="theme-color-meta" />
  
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Covered+By+Your+Grace&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="ads.css">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="auth-required">
  <!-- Header -->
  <div id="header-placeholder"></div>

  <main id="asosiy">
    <!-- Bosh sahifa kontenti (asosiy) -->
    <div id="main-content" class="main-content content-visible">
      <!-- Hero / Top Banner (subtle) -->
      <section class="hero">
        <div class="container hero-inner">
          <h1>Matematika <span class="gradient">zamonaviy usulda</span></h1>
          <p>Onlayn testlar, musobaqalar, simulyatorlar va o'yinlar — barchasi bir joyda.</p>
          <div class="hero-cta">
            <a href="tests.html" class="btn btn-primary">Boshlash</a>
            <a href="self.html" class="btn btn-ghost">O'zingizni sinang</a>
          </div>
        </div>
      </section>

      <!-- Banner karuseli -->
      <section id="banner">
        <div class="container section-head">
          <h2>Yangiliklar va Anonslar</h2>
          <p class="muted">eng qiziqlarini o'tkazib yubormang!</p>
        </div>
        <div class="carousel">
          <button class="carousel-btn prev">&#10094;</button>
          <div class="carousel-track-container">
            <div class="carousel-track" id="carouselTrack">
              <iframe class="ad-frame" src="ads/ads1.html"></iframe>
              <iframe class="ad-frame" src="ads/ads2.html"></iframe>
              <iframe class="ad-frame" src="ads/ads3.html"></iframe>
            </div>
          </div>
          <button class="carousel-btn next">&#10095;</button>
        </div>
      </section>

      <!-- Testlar & Musobaqalar -->
      <section id="tests" class="section">
        <div class="container">
          <div class="section-head">
            <h2>Onlayn testlar va musobaqalar</h2>
            <p class="muted">ZeroMath, Olimpiada, SAT, va haftalik chellenjlar.</p>
          </div>

          <div class="grid cards" data-max="6">
            <!-- 6 ta namunaviy karta -->
            <article class="card">
              <div class="badge">Yangi</div>
              <h3>ZeroMath — 1-daraja</h3>
              <p>Asosiy tushunchalar bo'yicha tezkor testlar.</p>
              <div class="card-actions">
                <a href="#" class="btn btn-primary require-login">Boshlash</a>
                <a href="#" class="btn btn-ghost require-login">Tafsilot</a>
              </div>
            </article>

            <!-- Qolgan kartalar... -->
          </div>
        </div>
      </section>

      <!-- Qolgan bo'limlar... -->
    </div>
  </main>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <!-- Assistive Menu -->
  <div id="menu-placeholder"></div>

  <!-- Modallar -->
  <div id="modal-placeholder"></div>

  <!-- Scriptlar -->
  <script src="firebase.js"></script>
  <script src="theme.js"></script>
  <script src="auth.js"></script>
  <script src="menu.js"></script>
  <script src="carousel.js"></script>
  
  <!-- Komponentlarni yuklash -->
  <script>
    // Komponentlarni yuklash
    function loadComponent(id, url) {
      fetch(url)
        .then(response => response.text())
        .then(data => {
          document.getElementById(id).innerHTML = data;
          // Komponent yuklangandan so'ng kerakli scriptlarni ishga tushirish
          if (id === 'header-placeholder') {
            // Header yuklanganda
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
          }
        });
    }

    // Sahifa yuklanganda komponentlarni yuklash
    document.addEventListener('DOMContentLoaded', function() {
      loadComponent('header-placeholder', 'header.html');
      loadComponent('footer-placeholder', 'footer.html');
      loadComponent('menu-placeholder', 'menu.html');
      loadComponent('modal-placeholder', 'modal.html');
    });
  </script>
</body>
</html>