<!DOCTYPE html>
<html lang="uz" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>X+Y.uz — Zamonaviy Matematika Platformasi</title>
  <meta name="description" content="X+Y.uz — onlayn testlar, musobaqalar, simulyatorlar va matematika o'yinlari." />
  <meta name="theme-color" content="#0b1220" id="theme-color-meta" />
  
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Covered+By+Your+Grace&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="ads.css">
  <link rel="stylesheet" href="menu.css">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="auth-required">
  <!-- Header -->
  <div id="header-placeholder"></div>

  <main id="asosiy">
    <!-- Bosh sahifa kontenti (asosiy) -->
    <div id="main-content" class="main-content content-visible">
      <!-- Hero / Top Banner (subtle) -->
      <section class="hero">
        <div class="container hero-inner">
          <h1>Matematika <span class="gradient">zamonaviy usulda</span></h1>
          <p>Onlayn testlar, musobaqalar, simulyatorlar va o'yinlar — barchasi bir joyda.</p>
          <div class="hero-cta">
            <a href="#tests" class="btn btn-primary">Boshlash</a>
            <a href="#self" class="btn btn-ghost">O'zingizni sinang</a>
          </div>
        </div>
      </section>

     <section id="banner">
      <div class="container section-head">
    <h2>Yangiliklar va Anonslar</h2>
    <p class="muted">eng qiziqlarini o'tkazib yubormang!</p>
  </div>
      <div class="carousel">
        <!-- Tugmalar -->
        <button class="carousel-btn prev">&#10094;</button>

        <!-- Bannerlarni o'z ichiga oluvchi qism -->
        <div class="carousel-track-container">
          <div class="carousel-track" id="carouselTrack">
            <!-- Har bir banner alohida HTML bo'lishi mumkin -->
            <iframe class="ad-frame" src="ads/ads1.html"></iframe>
            <iframe class="ad-frame" src="ads/ads2.html"></iframe>
            <iframe class="ad-frame" src="ads/ads3.html"></iframe>
          </div>
        </div>

        <button class="carousel-btn next">&#10095;</button>
      </div>
    </section>

    <!-- Testlar & Musobaqalar -->
    <section id="tests" class="section">
      <div class="container">
        <div class="section-head">
          <h2>Onlayn testlar va musobaqalar</h2>
          <p class="muted">ZeroMath, Olimpiada, SAT, va haftalik chellenjlar.</p>
        </div>

        <div class="grid cards" data-max="6">
          <!-- 6 ta namunaviy karta -->
          <article class="card">
            <div class="badge">Yangi</div>
            <h3>ZeroMath — 1-daraja</h3>
            <p>Asosiy tushunchalar bo'yicha tezkor testlar.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Boshlash</a>
              <a href="#" class="btn btn-ghost require-login">Tafsilot</a>
            </div>
          </article>

          <article class="card">
            <div class="badge">TOP</div>
            <h3>Olimpiada Mix</h3>
            <p>Murakkab masalalar to'plami — reytingli musobaqa.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Ishtirok etish</a>
              <a href="#" class="btn btn-ghost require-login">Qoidalar</a>
            </div>
          </article>

          <article class="card">
            <h3>SAT Math Drill</h3>
            <p>Ko'p uchraydigan SAT savollari bilan mashq qiling.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Start</a>
              <a href="#" class="btn btn-ghost require-login">Ko'rish</a>
            </div>
          </article>

          <article class="card">
            <h3>Haftalik Chellenj</h3>
            <p>Har juma yangi 10 ta masala. Reyting yangilanadi.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Join</a>
              <a href="#" class="btn btn-ghost require-login">Arxiv</a>
            </div>
          </article>

          <article class="card">
            <h3>Funksiya Grafikalari</h3>
            <p>Grafiklarni tahlil qilish va savollar.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Boshlash</a>
              <a href="#" class="btn btn-ghost require-login">Ko'rish</a>
            </div>
          </article>

          <article class="card">
            <h3>Geometriya Sprint</h3>
            <p>Tezkor geometriya savollari bilan speed-run.</p>
            <div class="card-actions">
              <a href="#" class="btn btn-primary require-login">Start</a>
              <a href="#" class="btn btn-ghost require-login">Chiqish</a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- O'zingizni sinang -->
    <section id="self" class="section">
      <div class="container">
        <div class="section-head">
          <h2>O'zingizni sinang</h2>
          <p class="muted">Tezkor diagnostika testlar to'plami.</p>
        </div>

        <div class="grid cards collapse" data-max="4" id="selfGrid">
          <!-- 4 ta ko'rinadi, qolganlari "Ko'proq"da ochiladi -->
          <article class="card"><h3>Algebra — tez test</h3><p>Darajangizni baholang.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>
          <article class="card"><h3>Geometriya — tez test</h3><p>Asosiy teoremalar.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>
          <article class="card"><h3>Trigonometriya — mini</h3><p>Formulalarni tekshiring.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>
          <article class="card"><h3>Analitik geometriya</h3><p>Koordinatalar va vektorlar.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>

          <!-- yashirinlar -->
          <article class="card hidden"><h3>Mat. mantiq</h3><p>Mantiqiy fikrlashni sinang.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>
          <article class="card hidden"><h3>Ehtimollar</h3><p>Probability fundamentals.</p><a href="#" class="btn btn-primary require-login">Boshlash</a></article>
        </div>

        <div class="center">
          <button class="btn btn-ghost" data-more="#selfGrid">Ko'proq</button>
        </div>
      </div>
    </section>

    <!-- Simulyatorlar -->
    <section id="simulators" class="section">
      <div class="container">
        <div class="section-head">
          <h2>Simulyatorlar</h2>
          <p class="muted">Formula, grafik va hisoblash mashinalari.</p>
        </div>

        <div class="grid cards" data-max="4">
          <article class="card"><h3>Formula kalkulyatori</h3><p>Har qanday formulani hisoblang.</p><a href="#" class="btn btn-primary require-login">Ochish</a></article>
          <article class="card"><h3>Grafik chizish</h3><p>Funksiya grafiklarini chizing.</p><a href="#" class="btn btn-primary require-login">Ochish</a></article>
          <article class="card"><h3>Algebra kalkulyatori</h3><p>Tenglama va tengsizliklar.</p><a href="#" class="btn btn-primary require-login">Ochish</a></article>
          <article class="card"><h3>Geometriya chizish</h3><p>Geometrik shakllar va ularning xossalari.</p><a href="#" class="btn btn-primary require-login">Ochish</a></article>
        </div>
      </div>
    </section>

    <!-- O'yinlar -->
    <section id="games" class="section">
      <div class="container">
        <div class="section-head">
          <h2>Matematika o'yinlari</h2>
          <p class="muted">Qiziqarli o'yinlar orqali matematikani o'rganing.</p>
        </div>

        <div class="grid cards" data-max="4">
          <article class="card"><h3>MathPuzzle</h3><p>Sonlar va mantiq.</p><a href="#" class="btn btn-primary require-login">O'ynash</a></article>
          <article class="card"><h3>AlgebraRace</h3><p>Formula tezkorligi.</p><a href="#" class="btn btn-primary require-login">O'ynash</a></article>
          <article class="card"><h3>GeometricDash</h3><p>Shakllarni tanib topish.</p><a href="#" class="btn btn-primary require-login">O'ynash</a></article>
          <article class="card"><h3>MathTrivia</h3><p>Matematik savollar.</p><a href="#" class="btn btn-primary require-login">O'ynash</a></article>
        </div>
      </div>
    </section>
    </div>

    <!-- Boshqa sahifalar uchun kontentlar (dastlab yashirin) -->
    <div id="tests-content" class="main-content content-hidden"></div>
    <div id="self-content" class="main-content content-hidden"></div>
    <div id="simulators-content" class="main-content content-hidden"></div>
    <div id="games-content" class="main-content content-hidden"></div>
  </main>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <!-- Assistive Menu -->
  <div id="menu-placeholder"></div>

  <!-- Modallar -->
  <div id="modal-placeholder"></div>

  <!-- Scriptlar -->
  <script src="firebase.js"></script>
  <script src="theme.js"></script>
  <script src="auth.js"></script>
  <script src="carousel.js"></script>
  
  <!-- Komponentlarni yuklash -->
  <script>
    // Komponentlarni yuklash
    function loadComponent(id, url) {
      fetch(url)
        .then(response => response.text())
        .then(data => {
          document.getElementById(id).innerHTML = data;
          // Komponent yuklangandan so'ng kerakli scriptlarni ishga tushirish
          if (id === 'header-placeholder') {
            // Header yuklanganda
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
          }
        });
    }

    // Sahifa yuklanganda komponentlarni yuklash
    document.addEventListener('DOMContentLoaded', function() {
      loadComponent('header-placeholder', 'header.html');
      loadComponent('footer-placeholder', 'footer.html');
      loadComponent('menu-placeholder', 'menu.html');
      loadComponent('modal-placeholder', 'modal.html');
    });
  </script>
</body>
</html>