<!doctype html>
<html lang="uz" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"/>
  <title>LeaderMath.UZ — Matematika platformasi</title>

  <meta name="theme-color" content="#2E8B57" id="meta-theme-color"/>
  <link rel="manifest" href="/manifest.webmanifest">
  <link id="site-favicon" rel="icon" href="/logo.png" sizes="192x192">
  <link rel="apple-touch-icon" href="/logo.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <style>
    :root{
      --brand:#2E8B57;
      --bg:#050908;
      --bg-soft:#0b1511;
      --card:#0f1a15;
      --card-soft:#111f18;
      --text:#F4FBF7;
      --muted:#8EADA0;
      --line:#23382d;
      --shadow:0 26px 80px rgba(0,0,0,.7);
      --radius:20px;
      --wrap:clamp(1100px,96vw,1440px);
      --vh:1vh;
      --top-gap:118px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      margin:0;
      font:15px/1.6 system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",Segoe UI,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 0% 0%, rgba(46,139,87,.3) 0, transparent 55%),
        radial-gradient(1200px 800px at 100% 0%, rgba(107,142,35,.28) 0, transparent 55%),
        radial-gradient(900px 700px at 50% 100%, rgba(18,40,28,.85) 0, #050908 55%);
      -webkit-tap-highlight-color:transparent;
    }
    body.no-scroll{overflow:hidden}
    body, main, #app{overflow-x:hidden}

    .hdr{
      position:sticky;
      top:0;
      z-index:100;
      border-bottom:1px solid rgba(255,255,255,.04);
      backdrop-filter:blur(20px) saturate(1.4);
      background:linear-gradient(180deg,rgba(8,16,13,.96),rgba(8,16,13,.92));
      box-shadow:0 20px 60px rgba(0,0,0,.6);
    }
    .row{
      max-width:var(--wrap);
      margin:0 auto;
      padding:10px 16px;
      display:flex;
      gap:14px;
      align-items:center;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .brand-logo{
      width:52px;height:52px;
      border-radius:18px;
      overflow:hidden;
      display:grid;
      place-items:center;
      background:radial-gradient(circle at 0 0,#ffffff 0,#d5e7dc 40%,#79b695 85%);
      box-shadow:0 14px 40px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.4);
    }
    .brand-logo img{
      width:40px;height:40px;display:block;
    }
    .brand-text{display:grid;line-height:1.05}
    .brand-title{font-size:16px;letter-spacing:.14em}
    .brand-title span{color:var(--brand)}
    .brand-sub{font-size:11px;color:var(--muted);letter-spacing:.03em;text-transform:none}
    .grow{flex:1}

    .chipbar-wrap{
      position:sticky;
      top:58px;
      z-index:90;
      border-top:1px solid rgba(255,255,255,.02);
      border-bottom:1px solid rgba(255,255,255,.03);
      backdrop-filter:blur(16px);
      background:linear-gradient(180deg,rgba(9,18,14,.96),rgba(9,18,14,.88));
      box-shadow:0 12px 40px rgba(0,0,0,.55);
    }
    .chipbar{
      max-width:var(--wrap);
      margin:0 auto;
      padding:8px 16px 10px;
      display:flex;
      gap:10px;
      overflow:auto hidden;
      -webkit-overflow-scrolling:touch;
      scroll-behavior:smooth;
    }
    .chipbar::-webkit-scrollbar{display:none}
    .chip{appearance:none;border-radius:999px;padding:8px 14px;font-size:13px;font-weight:800;cursor:pointer;white-space:nowrap;
      border:1px solid rgba(255,255,255,.05);
      background:linear-gradient(135deg,rgba(12,24,19,.96),rgba(5,10,8,.96));
      color:var(--muted);
      box-shadow:0 10px 24px rgba(0,0,0,.75);
      transition:.2s;
    }
    .chip:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.18)}
    .chip.active{
      color:#eafff3;
      border-color:rgba(120,230,165,.9);
      background:linear-gradient(135deg,#3ad485,#1b8a56);
      box-shadow:0 16px 40px rgba(0,0,0,.95);
    }

    .userchip{
      border-radius:999px;
      padding:6px 11px;
      display:flex;
      align-items:center;
      gap:10px;
      cursor:pointer;
      border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(145deg,rgba(4,9,7,.96),rgba(9,18,14,.96));
      box-shadow:0 18px 45px rgba(0,0,0,.9);
    }
    .avatar{width:34px;height:34px;border-radius:50%;overflow:hidden;background:radial-gradient(circle at 0 0,#e5fef1 0,#99d0b8 85%);box-shadow:0 8px 18px rgba(0,0,0,.8);}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block;}
    .mini{font-size:12px;color:var(--muted)}

    .menu{
      position:fixed;
      min-width:260px;
      background:linear-gradient(150deg,#050b09,#070f0c);
      border-radius:16px;
      border:1px solid rgba(148,239,191,.4);
      box-shadow:0 24px 80px rgba(0,0,0,1);
      display:none;
      overflow:hidden;
      z-index:1000;
    }
    .menu.open{display:block}
    .menu a{
      display:flex;align-items:center;gap:10px;
      padding:10px 14px;
      text-decoration:none;
      color:#e5f5ee;
      border-bottom:1px solid rgba(148,163,184,.2);
      font-size:14px;
      transition:.18s;
    }
    .menu a:last-child{border-bottom:none}
    .menu a:hover{
      background:linear-gradient(90deg,rgba(22,163,74,.16),rgba(34,197,94,.08));
      transform:translateX(3px);
      padding-left:18px;
    }

    main{
      max-width:var(--wrap);
      margin:0 auto;
      padding:86px 16px 64px;
    }
    @media (max-width:900px){main{padding:86px 12px 56px;}}

    .section{
      border-radius:20px;
      border:1px solid rgba(255,255,255,.06);
      background:linear-gradient(145deg,rgba(11,22,17,.98),rgba(4,9,7,.98));
      box-shadow:var(--shadow);
      margin-bottom:18px;
      overflow:hidden;
    }
    .section-hdr{
      padding:14px 18px 10px;
      border-bottom:1px solid rgba(255,255,255,.04);
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .section-hdr h3{margin:0;font-size:16px;letter-spacing:.12em;text-transform:uppercase}
    .inner{padding:14px 16px 16px;}

    .grid{
      --cols:1;
      display:grid;
      grid-template-columns:repeat(var(--cols), minmax(0,1fr));
      gap:16px;
    }
    @media (min-width:560px){.grid{--cols:2}}
    @media (min-width:900px){.grid{--cols:3}}
    @media (min-width:1200px){.grid{--cols:4}}

    .cardX{
      border-radius:16px;
      border:1px solid rgba(255,255,255,.06);
      background:linear-gradient(145deg,rgba(12,24,19,.98),rgba(5,11,9,.98));
      box-shadow:0 16px 40px rgba(0,0,0,.85);
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .cardX h4{margin:0;font-size:15px}
    .thumb{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.06);object-fit:cover;aspect-ratio:16/9;background:#07100b}

    .filters{
      display:flex;gap:8px;flex-wrap:wrap;
      padding:12px 2px 6px;
    }
    .fchip{
      border-radius:999px;
      border:1px solid rgba(148,163,184,.3);
      background:rgba(15,23,42,.6);
      padding:6px 11px;
      cursor:pointer;
      font-weight:700;
      font-size:11px;
      color:#e5e7eb;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    .fchip.active{
      background:linear-gradient(135deg,#22c55e,#16a34a);
      border-color:rgba(22,163,74,1);
      color:#052e16;
    }

    .badge{
      padding:3px 9px;
      border-radius:999px;
      font-size:11px;
      border:1px solid rgba(148,239,191,.35);
      color:#bbf7d0;
      background:rgba(34,197,94,.18);
    }
    .badge.soon{background:rgba(251,191,36,.18);border-color:rgba(245,158,11,.6);color:#fed7aa}
    .badge.ended{background:rgba(148,163,184,.16);border-color:rgba(148,163,184,.6);color:#e5e7eb}

    .overlay{
      position:fixed;inset:0;display:none;place-items:center;
      background:rgba(3,7,5,.92);
      backdrop-filter:blur(18px);
      z-index:110;
      opacity:0;
      transition:opacity .2s ease;
    }
    .overlay.show{display:grid;opacity:1}
    .panel{
      width:min(920px,96vw);
      max-height:92vh;
      overflow:auto;
      border-radius:20px;
      border:1px solid rgba(148,239,191,.4);
      background:linear-gradient(145deg,#050a08,#06100c);
      box-shadow:0 28px 90px rgba(0,0,0,1);
      padding:22px;
    }
    .btn{
      border-radius:14px;
      border:1px solid rgba(148,163,184,.4);
      background:linear-gradient(145deg,rgba(15,23,42,.94),rgba(15,23,42,.98));
      padding:10px 14px;
      cursor:pointer;
      font-weight:800;
      font-size:14px;
      color:#e5e7eb;
    }
    .btn.primary{
      background:linear-gradient(135deg,#22c55e,#16a34a);
      border-color:rgba(22,163,74,1);
      color:#022c16;
    }

    .toasts{
      position:fixed;right:16px;bottom:16px;
      display:grid;gap:10px;
      max-width:min(360px,90vw);
      z-index:1200;
    }
    .toast{
      display:flex;gap:10px;align-items:flex-start;
      padding:11px 13px;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(3,7,5,.96);
      box-shadow:0 16px 40px rgba(0,0,0,.85);
      font-size:13px;
    }

    footer{
      max-width:var(--wrap);
      margin:0 auto;
      padding:12px 16px 32px;
      font-size:13px;
      color:var(--muted);
    }
  </style>
</head>
<body>

<div id="installWrap" style="display:none"></div>

<header class="hdr" id="hdr">
  <div class="row">
    <div class="brand">
      <div class="brand-logo"><img id="brand-logo-img" src="/logo.png" alt="LM"></div>
      <div class="brand-text">
        <div class="brand-title" id="brand-title">LEADERMATH.<span>UZ</span></div>
        <div class="brand-sub" id="brand-sub">Matematika platformasi</div>
      </div>
    </div>
    <div class="grow"></div>
    <div id="user-slot"></div>
  </div>
  <div class="chipbar-wrap" id="chipwrap">
    <nav id="chipbar" class="chipbar" aria-label="Bo'limlar"></nav>
  </div>
</header>

<main id="app">
  <div id="sections"></div>
</main>

<footer>
  <div id="footer-content">© 2025 LeaderMath.UZ</div>
</footer>

<div id="overlay" class="overlay" aria-modal="true"></div>
<div id="portal-root"></div>
<div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>

<script type="module" src="./main.js"></script>
</body>
</html>
