{
  "schemaVersion": 2,
  "chips": [
    {
      "id": "home",
      "title": "Bosh Sahifa",
      "tags": [
        "Home"
      ],
      "desc": "barcha yangiliklar shu yerda",
      "icon": "/svg/home.svg",
      "html": "<!doctype html>\n<html lang=\"uz\" data-theme=\"light\">\n<head>\n  <meta charset=\"utf-8\"/>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n  <title>LeaderMath — Banner Hub</title>\n  <meta name=\"theme-color\" content=\"#2E8B57\" id=\"theme-color\"/>\n  <link rel=\"icon\" href=\"./logo.png\"/>\n\n  <style>\n  /* ========= THEME TOKENS ========= */\n  :root[data-theme=\"light\"]{\n    --primary:#2E8B57; --accent:#6B8E23;\n    --bg:#F6FBF8; --bg-alt:#ECF5EF; --card:#FFFFFF;\n    --text:#102017; --muted:#6B8878;\n    --line:#E1ECE6; --line-2:#EDF5F1;\n    --shadow-sm:0 4px 14px rgba(46,139,87,.10);\n    --shadow:0 16px 40px rgba(46,139,87,.15);\n    --shadow-lg:0 28px 70px rgba(46,139,87,.20);\n    --radius:16px; --radius-lg:22px; --pill:999px;\n    --gradient:linear-gradient(135deg,#2E8B57 0%,#6B8E23 100%);\n    --glass:rgba(255,255,255,.55); --blur:16px;\n  }\n  :root[data-theme=\"dark\"]{\n    --primary:#4CBB7D; --accent:#8BCF5A;\n    --bg:#0E1512; --bg-alt:#111D17; --card:#142019;\n    --text:#EAF7EF; --muted:#A7C6B6;\n    --line:#1E3228; --line-2:#20382D;\n    --shadow-sm:0 4px 16px rgba(0,0,0,.35);\n    --shadow:0 18px 44px rgba(0,0,0,.45);\n    --shadow-lg:0 32px 86px rgba(0,0,0,.55);\n    --radius:16px; --radius-lg:22px; --pill:999px;\n    --gradient:linear-gradient(135deg,#4CBB7D 0%,#8BCF5A 100%);\n    --glass:rgba(20,32,25,.55); --blur:18px;\n  }\n\n  /* ========= BASE ========= */\n  *{box-sizing:border-box} html{scroll-behavior:smooth}\n  body{\n    margin:0; font-family:Inter, ui-sans-serif, system-ui, -apple-system, \"Segoe UI\", Roboto;\n    background:\n      radial-gradient(1000px 700px at -10% -10%, rgba(46,139,87,.12), transparent 60%),\n      radial-gradient(900px 700px at 110% 10%, rgba(107,142,35,.10), transparent 55%),\n      var(--bg);\n    color:var(--text); line-height:1.6;\n  }\n\n  /* ========= HEADER ========= */\n  header{\n    position:sticky; top:0; z-index:50;\n    backdrop-filter:saturate(120%) blur(var(--blur));\n    background:linear-gradient(to bottom, var(--glass), color-mix(in oklab, var(--glass) 40%, transparent));\n    border-bottom:1px solid var(--line);\n    box-shadow:var(--shadow-sm);\n  }\n  .bar{max-width:1200px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;gap:12px}\n  .logo{width:56px;height:56px;border-radius:14px;border:1px solid var(--line);\n    background: url('./logo.png') center/cover no-repeat,\n                linear-gradient(145deg, rgba(255,255,255,.35), rgba(255,255,255,.05));\n    box-shadow:inset 0 1px 0 rgba(255,255,255,.5), var(--shadow-sm);\n  }\n  .title{font-weight:900;font-size:1.2rem;color:var(--primary)}\n  .spacer{flex:1}\n  .theme-btn{\n    display:inline-flex;align-items:center;gap:.6rem;padding:.6rem .9rem;border:1px solid var(--line);\n    background:linear-gradient(180deg,var(--card),color-mix(in oklab,var(--card) 75%, var(--bg-alt) 25%));\n    border-radius:12px;font-weight:800;cursor:pointer;box-shadow:inset 0 1px 0 rgba(255,255,255,.35),var(--shadow-sm);\n    transition:.25s; color:var(--text);\n  }\n  .theme-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}\n  .theme-icon{width:20px;height:20px;display:block}\n\n  /* ========= PAGE ========= */\n  main{max-width:1200px;margin:0 auto;padding:24px 18px}\n  .section{\n    margin:26px 0 34px; position:relative;\n    border:1px solid var(--line); border-radius:var(--radius-lg);\n    background:\n      radial-gradient(120% 120% at 0% 0%, color-mix(in oklab, var(--accent) 9%, transparent) 0%, transparent 40%),\n      linear-gradient(180deg, color-mix(in oklab, var(--card) 86%, var(--bg-alt) 14%), var(--card));\n    box-shadow:var(--shadow);\n    overflow:hidden;\n  }\n  .section::before{content:\"\"; position:absolute; left:0; right:0; top:0; height:4px; background:var(--gradient)}\n  .sec-head{\n    display:flex;align-items:center;gap:12px;justify-content:space-between;\n    padding:16px 18px;border-bottom:1px solid var(--line)\n  }\n  .sec-title{font-size:1.1rem;font-weight:900;color:var(--primary)}\n  .sec-sub{color:var(--muted);font-size:.92rem}\n\n  /* ========= CAROUSEL ========= */\n  .carousel{position:relative}\n  .track-wrap{overflow:hidden}\n  .track{\n    display:flex; gap:14px; scroll-behavior:smooth;\n    padding:16px 16px 22px;\n    will-change:transform;\n  }\n  .slide{\n    min-width: clamp(260px, 46vw, 360px);\n    position:relative; border:1px solid var(--line); border-radius:18px; overflow:hidden;\n    background:\n      radial-gradient(140% 120% at 0% 0%, rgba(255,255,255,.20), transparent 45%),\n      linear-gradient(180deg, color-mix(in oklab, var(--card) 90%, var(--bg-alt) 10%), var(--card));\n    box-shadow:var(--shadow-sm);\n    transition:transform .25s ease, box-shadow .25s ease;\n  }\n  .slide:hover{transform:translateY(-4px); box-shadow:var(--shadow)}\n  .media{\n    aspect-ratio: 16/9; background:var(--bg-alt); display:block; width:100%; object-fit:cover;\n    filter:saturate(1.02); transition:transform .4s ease;\n  }\n  .slide:hover .media{transform:scale(1.03)}\n  .badge{\n    position:absolute; top:12px; left:12px; z-index:2;\n    padding:.36rem .6rem; font-size:.8rem; font-weight:900; letter-spacing:.02em;\n    color:#fff; border-radius:10px; box-shadow:0 8px 20px rgba(0,0,0,.18);\n    background:var(--gradient); user-select:none;\n  }\n  .meta{padding:12px 14px 14px}\n  .meta h4{margin:0 0 6px; font-size:1rem; font-weight:900}\n  .meta p{margin:0; color:var(--muted); font-size:.92rem}\n  .cta{\n    display:inline-flex;align-items:center;gap:.5rem;margin-top:10px;padding:.55rem .8rem;border-radius:12px;\n    border:1px solid var(--line); font-weight:800; text-decoration:none; color:var(--text);\n    background:linear-gradient(180deg,var(--card),color-mix(in oklab,var(--card) 75%, var(--bg-alt) 25%));\n    transition:.25s; box-shadow:inset 0 1px 0 rgba(255,255,255,.35);\n  }\n  .cta:hover{transform:translateY(-1px); box-shadow:var(--shadow)}\n\n  /* arrows */\n  .nav{\n    position:absolute; inset:auto 10px 12px auto; display:flex; gap:8px; z-index:5;\n  }\n  .btn{\n    width:38px;height:38px;display:grid;place-items:center;cursor:pointer;border-radius:12px;border:1px solid var(--line);\n    background:linear-gradient(180deg,var(--card),color-mix(in oklab,var(--card) 78%, var(--bg-alt) 22%));\n    box-shadow:var(--shadow-sm); transition:.2s; user-select:none;\n  }\n  .btn:hover{transform:translateY(-1px); box-shadow:var(--shadow)}\n  .btn[disabled]{opacity:.5; pointer-events:none}\n\n  /* dots */\n  .dots{display:flex;gap:8px;align-items:center;justify-content:center;padding:8px 0 16px}\n  .dot{\n    width:8px;height:8px;border-radius:50%;background:color-mix(in oklab, var(--primary) 15%, #ffffff);\n    opacity:.6; transition:.2s; border:1px solid var(--line);\n  }\n  .dot.active{opacity:1; transform:scale(1.15); background:var(--primary)}\n\n  /* skeletons */\n  .skeleton{\n    position:relative; overflow:hidden; background:linear-gradient(90deg, var(--bg-alt), color-mix(in oklab, var(--bg-alt) 80%, #fff) 50%, var(--bg-alt));\n    background-size:200% 100%; animation:shimmer 1.1s infinite;\n  }\n  @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}\n\n  /* responsive */\n  @media (max-width:720px){\n    .slide{min-width: clamp(240px, 82vw, 340px)}\n  }\n  </style>\n</head>\n<body>\n  <header>\n    <div class=\"bar\">\n      <div class=\"logo\"></div>\n      <div class=\"title\">Banner Hub</div>\n      <div class=\"spacer\"></div>\n      <button id=\"toggleTheme\" class=\"theme-btn\" type=\"button\">\n        <img class=\"theme-icon\" id=\"themeIcon\" src=\"./svg/sun.png\" alt=\"\">\n        <span>Kun/Tun</span>\n      </button>\n    </div>\n  </header>\n\n  <main>\n    <!-- Bo'limlar JS orqali render qilinadi -->\n    <div id=\"sections\"></div>\n  </main>\n\n  <script>\n  // ---------- THEME ----------\n  const themeMeta = document.getElementById('theme-color');\n  function setTheme(t){\n    document.documentElement.setAttribute('data-theme', t);\n    localStorage.setItem('theme', t);\n    themeMeta.content = t==='dark' ? '#0E1512' : '#2E8B57';\n    document.getElementById('themeIcon').src = t==='dark' ? './svg/moon.png' : './svg/sun.png';\n  }\n  setTheme(localStorage.getItem('theme') || 'light');\n  document.getElementById('toggleTheme').onclick=()=>{\n    setTheme(document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark');\n  };\n\n  // ---------- DATA LOADING ----------\n  const demoData = {\n    sections: [\n      {\n        id: \"olimpiada\",\n        title: \"Olimpiada bannerlar\",\n        subtitle: \"Yakuniy bosqich | yangi qo‘llanmalar\",\n        banners: [\n          { id:\"ol-1\", image:\"https://images.unsplash.com/photo-1520975682031-d8ce28c1e365?q=80&w=1200&auto=format&fit=crop\", title:\"Matematika Final\", link:\"#\", badge:\"Yangi\" },\n          { id:\"ol-2\", image:\"https://images.unsplash.com/photo-1519567241046-7f570eee3e35?q=80&w=1200&auto=format&fit=crop\", title:\"Fizika Chempionat\", link:\"#\", badge:\"Top\" },\n          { id:\"ol-3\", image:\"https://images.unsplash.com/photo-1509227623129-4fd4b4a2d16e?q=80&w=1200&auto=format&fit=crop\", title:\"Kimyo Liga\", link:\"#\", badge:\"Hot\" }\n        ]\n      },\n      {\n        id: \"kurslar\",\n        title: \"Kurslar bannerlar\",\n        subtitle: \"Yangi mavsum | chegirmalar\",\n        banners: [\n          { id:\"kr-1\", image:\"https://images.unsplash.com/photo-1555489426-ebe9271d87b0?q=80&w=1200&auto=format&fit=crop\", title:\"Algebra 0→1\", link:\"#\", badge:\"-30%\" },\n          { id:\"kr-2\", image:\"https://images.unsplash.com/photo-1529101091764-c3526daf38fe?q=80&w=1200&auto=format&fit=crop\", title:\"Geometriya Pro\", link:\"#\", badge:\"-20%\" },\n          { id:\"kr-3\", image:\"https://images.unsplash.com/photo-1600267175161-cfea3dbe5cfe?q=80&w=1200&auto=format&fit=crop\", title:\"Fizika 10x\", link:\"#\", badge:\"Bundle\" },\n          { id:\"kr-4\", image:\"https://images.unsplash.com/photo-1546410531-bb4caa6b424d?q=80&w=1200&auto=format&fit=crop\", title:\"Kimyo Start\", link:\"#\", badge:\"Yangi\" }\n        ]\n      }\n    ]\n  };\n\n  async function loadJSON(){\n    const qp = new URLSearchParams(location.search);\n    const url = qp.get('src') || './banners.json';\n    try{\n      const res = await fetch(url, {cache:'no-store'});\n      if(!res.ok) throw new Error(res.statusText);\n      return await res.json();\n    }catch(err){\n      console.warn('banners.json topilmadi, demo ishlatiladi:', err.message);\n      return demoData;\n    }\n  }\n\n  // ---------- RENDER HELPERS ----------\n  const $ = (s,root=document)=>root.querySelector(s);\n  const $$ = (s,root=document)=>[...root.querySelectorAll(s)];\n\n  function sectionHTML(sec){\n    return `\n    <section class=\"section\" data-sec=\"${sec.id}\">\n      <div class=\"sec-head\">\n        <div>\n          <div class=\"sec-title\">${sec.title||sec.id}</div>\n          ${sec.subtitle ? `<div class=\"sec-sub\">${sec.subtitle}</div>` : ''}\n        </div>\n        <div class=\"nav\" aria-hidden=\"false\">\n          <button class=\"btn prev\" type=\"button\" aria-label=\"Oldingi\">&#10094;</button>\n          <button class=\"btn next\" type=\"button\" aria-label=\"Keyingi\">&#10095;</button>\n        </div>\n      </div>\n\n      <div class=\"carousel\">\n        <div class=\"track-wrap\">\n          <div class=\"track\">\n            ${sec.banners.map(b=>slideHTML(b)).join('')}\n          </div>\n        </div>\n        <div class=\"dots\" role=\"tablist\" aria-label=\"Slaydlar\"></div>\n      </div>\n    </section>`;\n  }\n\n  function slideHTML(b){\n    return `\n    <article class=\"slide\" data-id=\"${b.id}\">\n      <span class=\"badge\">${b.badge||'Banner'}</span>\n      <img class=\"media skeleton\" loading=\"lazy\" alt=\"${escapeHTML(b.title||'')}\"\n           data-src=\"${b.image}\">\n      <div class=\"meta\">\n        <h4>${b.title||''}</h4>\n        ${b.desc?`<p>${b.desc}</p>`:''}\n        ${b.link?`<a class=\"cta\" href=\"${b.link}\" target=\"_blank\" rel=\"noopener\">Ko‘rish</a>`:''}\n      </div>\n    </article>`;\n  }\n\n  function escapeHTML(s=''){return s.replace(/[&<>\\\"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;' }[m]))}\n\n  // ---------- CAROUSEL LOGIC ----------\n  function initCarousel(sectionEl){\n    const track = $('.track', sectionEl);\n    const slides = $$('.slide', track);\n    const dotsEl = $('.dots', sectionEl);\n    const prevBtn = $('.prev', sectionEl);\n    const nextBtn = $('.next', sectionEl);\n\n    // dots\n    slides.forEach((_,i)=>{\n      const d=document.createElement('button');\n      d.className='dot'; d.type='button'; d.setAttribute('aria-label',`Slayd ${i+1}`);\n      d.addEventListener('click',()=>goTo(i,true));\n      dotsEl.appendChild(d);\n    });\n\n    let index = 0;\n    let autoplayTimer = null;\n    const DOTS = $$('.dot', dotsEl);\n\n    function updateDots(){\n      DOTS.forEach((d,i)=>d.classList.toggle('active', i===index));\n    }\n\n    function snapToIndex(){\n      const item = slides[index];\n      const offset = item.offsetLeft - track.offsetLeft - 8; // small padding adjust\n      track.scrollTo({left: offset, behavior:'smooth'});\n      updateDots();\n      prevBtn.disabled = index===0;\n      nextBtn.disabled = index===slides.length-1;\n    }\n\n    function goTo(i, stopAuto=false){\n      index = Math.max(0, Math.min(slides.length-1, i));\n      snapToIndex();\n      if(stopAuto) pauseAutoplay(); // user action pauses briefly\n    }\n\n    function next(){ goTo(index+1) }\n    function prev(){ goTo(index-1) }\n\n    // autoplay\n    function startAutoplay(){\n      if(autoplayTimer) return;\n      autoplayTimer = setInterval(()=>{\n        index = (index+1) % slides.length;\n        snapToIndex();\n      }, 3500);\n    }\n    function pauseAutoplay(){\n      clearInterval(autoplayTimer); autoplayTimer=null;\n      // resume after a while\n      setTimeout(()=>startAutoplay(), 7000);\n    }\n\n    // touch / drag\n    let startX=0, lastX=0, dragging=false;\n    track.addEventListener('pointerdown', (e)=>{\n      dragging=true; startX=e.clientX; lastX=startX; track.setPointerCapture(e.pointerId);\n      pauseAutoplay();\n    });\n    track.addEventListener('pointermove', (e)=>{\n      if(!dragging) return;\n      const dx = e.clientX - lastX; lastX=e.clientX;\n      track.scrollLeft -= dx;\n    });\n    const endDrag = (e)=>{\n      if(!dragging) return; dragging=false;\n      // choose nearest slide\n      const centers = slides.map(s=>s.offsetLeft + s.offsetWidth/2);\n      const currentCenter = track.scrollLeft + track.clientWidth/2;\n      const nearest = centers.reduce((best, c, i)=>{\n        const d=Math.abs(c-currentCenter);\n        return d<(best.d??Infinity)?{i,d}:{...best};\n      }, {i:0,d:Infinity}).i;\n      goTo(nearest, true);\n    };\n    track.addEventListener('pointerup', endDrag);\n    track.addEventListener('pointercancel', endDrag);\n    track.addEventListener('mouseleave', ()=>dragging=false);\n\n    // buttons + hover pause\n    nextBtn.onclick=()=>next();\n    prevBtn.onclick=()=>prev();\n    sectionEl.addEventListener('mouseenter', pauseAutoplay);\n    sectionEl.addEventListener('mouseleave', startAutoplay);\n\n    // keyboard\n    sectionEl.addEventListener('keydown', (e)=>{\n      if(e.key==='ArrowRight') next();\n      if(e.key==='ArrowLeft')  prev();\n    });\n\n    // lazy images\n    const io = new IntersectionObserver((ents)=>{\n      ents.forEach(ent=>{\n        if(ent.isIntersecting){\n          const img = ent.target;\n          const src = img.getAttribute('data-src');\n          if(src){\n            img.src = src;\n            img.onload = ()=>img.classList.remove('skeleton');\n            img.removeAttribute('data-src');\n          }\n          io.unobserve(img);\n        }\n      });\n    }, {root:$('.track-wrap', sectionEl), threshold:0.05});\n    $$('.media', sectionEl).forEach(img=>io.observe(img));\n\n    // init\n    updateDots();\n    setTimeout(()=>snapToIndex(), 50);\n    startAutoplay();\n  }\n\n  // ---------- BUILD PAGE ----------\n  (async function(){\n    const data = await loadJSON();\n    const mount = document.getElementById('sections');\n    mount.innerHTML = data.sections.map(sectionHTML).join('');\n    // focusable sections for keyboard nav\n    $$('.section').forEach(s=>{ s.tabIndex=0; initCarousel(s); });\n  })();\n  </script>\n</body>\n</html>\n"
    }
  ]
}