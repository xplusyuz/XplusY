<!doctype html>
<html lang="uz">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MathCenter — Bosh sahifa</title>
<link rel="icon" type="image/svg+xml" href="assets/pi-logo.svg">
<link rel="stylesheet" href="assets/styles.css">
</head>
<body>
<header class="header-glass">
  <div class="container row">
    <div class="brand">
      <img src="assets/pi-logo.svg" class="pi" alt="π">
      <h2>MathCenter</h2>
    </div>
    <div class="sp"></div>
    <a href="rating-firebase.html" class="btn ghost">🏆 Reyting</a>
  </div>
</header>

<main class="container">
  <section id="banner-section" class="mt"></section>
  <section id="cards-section" class="mt"></section>
</main>

<footer class="footer">
  <p>© 2025 MathCenter XplusY — O‘quv platformasi</p>
</footer>

<script>
async function loadJSON(path){const r=await fetch(path);return await r.json();}
function cardHTML(c){
  return `<div class="card-tile">
    <img src="${c.image||'assets/bg-pattern.svg'}" class="thumb">
    <div class="content">
      <h3>${c.title}</h3>
      <a href="${c.link||'#'}" class="btn">Boshlash</a>
    </div>
  </div>`;
}
function bannerHTML(b){
  return `<div class="banner" style="background-image:url('${b.image||'assets/bg-pattern.svg'}')">
    <div class="overlay">
      <h2>${b.title}</h2>
      <p>${b.subtitle||''}</p>
      ${b.link?`<a href="${b.link}" class="btn">Batafsil</a>`:''}
    </div>
  </div>`;
}
(async()=>{
  const lite=await loadJSON("liteadmin.json").catch(()=>({cards:[],banners:[]}));
  const banners=lite.banners?.filter(b=>b.active)!==false?lite.banners:[];
  const cards=lite.cards?.filter(c=>c.active)!==false?lite.cards:[];
  document.querySelector("#banner-section").innerHTML=banners.map(bannerHTML).join("");
  document.querySelector("#cards-section").innerHTML=cards.map(cardHTML).join("");
})();
</script>
</body>
</html>
