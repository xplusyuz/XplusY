:root{
  --td-text: var(--text, #0b1e14);
  --td-accent: var(--accent, #21c26e);
  --td-accent2: var(--accent2, #29e07d);
  --td-danger: var(--danger, #e74c3c);
}

/* Any legacy dock => hidden */
.td-dock{ display:none!important; }

.touch-dock{ position: fixed; inset: 0; pointer-events: none; z-index: 1200; }
.td-backdrop{ position: fixed; inset: 0; z-index: 1199; background: rgba(0,0,0,.45); backdrop-filter: blur(2px); 
  pointer-events: auto;
}

.td-fab{
  position: fixed; right: 18px; bottom: 18px; z-index: 1202;
  width: 60px; height: 60px; border-radius: 50%;
  pointer-events: auto; cursor: pointer;
  border: 1px solid rgba(0,0,0,.08);
  background: linear-gradient(180deg, #ffffff, #f1fff8);
  box-shadow: 0 10px 24px rgba(0,0,0,.22), inset 0 0 0 1px rgba(255,255,255,.6);
  font-size: 22px; display:grid; place-items:center;
  transition: transform .12s ease, box-shadow .12s ease;
  user-select: none; touch-action: none;
}
.td-fab:active{ transform: scale(.98); }

.td-sheet{
  position: fixed; left: 0; right: 0; bottom: 0; z-index: 1201;
  background: linear-gradient(180deg, #fff 0%, #f6fff8 100%);
  border-top-left-radius: 20px; border-top-right-radius: 20px;
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 -12px 30px rgba(0,0,0,.18);
  transform: translateY(100%);
  transition: transform .28s cubic-bezier(.2,.8,.2,1);
  will-change: transform;

  pointer-events: auto;
}
.td-sheet.open{ transform: translateY(0); }

.td-grabber{
  width: 64px; height: 6px; border-radius: 999px; margin: 10px auto 6px;
  background: linear-gradient(180deg, rgba(0,0,0,.16), rgba(0,0,0,.06));
}
.td-sheet-head{ padding: 0 14px 8px; }
.td-sheet-head h3{ margin: 0; font-size: clamp(16px, 1.4vw + 10px, 22px); color: var(--td-text); }

.td-grid{
  display: grid; gap: 10px; padding: 8px 12px 16px;
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (min-width: 700px){ .td-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); } }
@media (min-width: 1024px){ .td-grid{ grid-template-columns: repeat(6, minmax(0,1fr)); } }

.td-tile{
  display: grid; place-items: center; gap: 6px; padding: 12px 8px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(245,255,249,.95));
  border: 1px solid rgba(0,0,0,.08);
  text-align: center; color: var(--td-text);
  box-shadow: 0 2px 0 rgba(0,0,0,.05), 0 10px 18px rgba(0,0,0,.08);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;

  pointer-events: auto;
}
.td-tile span{ font-size: 22px; line-height: 1; }
.td-tile b{ font-size: clamp(12px, .9vw + 7px, 14px); }
.td-tile:hover{ transform: translateY(-2px); box-shadow: 0 12px 24px rgba(0,0,0,.12); }
.td-danger{ background: linear-gradient(180deg, #ffeaea, #fff3f3); border-color: rgba(231,76,60,.35); }
.td-danger:hover{ box-shadow: 0 12px 24px rgba(231,76,60,.22); }

@media (prefers-reduced-motion: reduce){
  .td-fab, .td-sheet{ transition: none!important; }
}
