:root{
  --td-bg: var(--card, #fff);
  --td-text: var(--text, #0b1e14);
  --td-accent: var(--accent, #21c26e);
  --td-accent2: var(--accent2, #29e07d);
  --td-danger: var(--danger, #e74c3c);
  --td-shadow: 0 12px 30px rgba(0,0,0,.18);
  --td-r: 18px;
}

.touch-dock{
  position: fixed; inset: auto 0 10px 0; z-index: 1200;
  display: grid; place-items: center; pointer-events: none;
}

.td-dock{
  pointer-events: auto;
  display: inline-flex; gap: 8px; padding: 8px 10px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(245,255,249,.92));
  border: 1px solid rgba(0,0,0,.10);
  backdrop-filter: blur(10px);
  box-shadow: 0 3px 0 rgba(0,0,0,.06), var(--td-shadow);
  transform-style: preserve-3d;
}

.td-item{
  width: 48px; height: 48px; border-radius: 14px;
  display: grid; place-items: center; font-size: 22px;
  background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(245,255,249,.85));
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  transform: translateZ(4px);
}
.td-item:hover{ transform: perspective(600px) translateZ(10px) rotateX(2deg) rotateY(2deg); }
.td-item.active{
  background: linear-gradient(180deg, var(--td-accent2), var(--td-accent));
  color: #032111; border-color: transparent;
  box-shadow: 0 10px 24px rgba(18,156,102,.35);
}

.td-fab{
  pointer-events: auto; position: absolute; inset: auto 18px 18px auto;
  width: 56px; height: 56px; border-radius: 50%;
  border: 1px solid rgba(0,0,0,.08);
  background: linear-gradient(180deg, #ffffff, #f1fff8);
  box-shadow: 0 6px 18px rgba(0,0,0,.18), inset 0 0 0 1px rgba(255,255,255,.6);
  font-size: 20px; cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease;
}
.td-fab:active{ transform: scale(.98); }

.td-backdrop{ position: fixed; inset: 0; z-index: 1199; background: rgba(0,0,0,.45); backdrop-filter: blur(2px); }

.td-sheet{
  position: fixed; left: 0; right: 0; bottom: 0; z-index: 1201;
  background: linear-gradient(180deg, #fff 0%, #f6fff8 100%);
  border-top-left-radius: 20px; border-top-right-radius: 20px;
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 -12px 30px rgba(0,0,0,.18);
  transform: translateY(100%);
  transition: transform .28s cubic-bezier(.2,.8,.2,1);
  will-change: transform;
}
.td-sheet.open{ transform: translateY(0); }

.td-grabber{
  width: 64px; height: 6px; border-radius: 999px; margin: 10px auto 6px;
  background: linear-gradient(180deg, rgba(0,0,0,.16), rgba(0,0,0,.06));
}
.td-sheet-head{ padding: 0 14px 8px; }
.td-sheet-head h3{ margin: 0; font-size: clamp(16px, 1.4vw + 10px, 22px); color: var(--td-text); }

.td-grid{
  display: grid; gap: 10px; padding: 8px 12px 16px;
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (min-width: 700px){ .td-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); } }
@media (min-width: 1024px){ .td-grid{ grid-template-columns: repeat(6, minmax(0,1fr)); } }

.td-tile{
  display: grid; place-items: center; gap: 6px; padding: 12px 8px;
  border-radius: var(--td-r);
  background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(245,255,249,.95));
  border: 1px solid rgba(0,0,0,.08);
  text-align: center; color: var(--td-text);
  box-shadow: 0 2px 0 rgba(0,0,0,.05), 0 10px 18px rgba(0,0,0,.08);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.td-tile span{ font-size: 22px; line-height: 1; }
.td-tile b{ font-size: clamp(12px, .9vw + 7px, 14px); }
.td-tile:hover{ transform: translateY(-2px); box-shadow: 0 12px 24px rgba(0,0,0,.12); }
.td-danger{ background: linear-gradient(180deg, #ffeaea, #fff3f3); border-color: rgba(231,76,60,.35); }
.td-danger:hover{ box-shadow: 0 12px 24px rgba(231,76,60,.22); }

@media (min-width: 1280px){
  .touch-dock{ inset: auto 0 16px 0; }
  .td-item{ width: 52px; height: 52px; font-size: 24px; }
}

@media (prefers-reduced-motion: reduce){
  .td-item, .td-fab, .td-sheet{ transition: none!important; }
}
