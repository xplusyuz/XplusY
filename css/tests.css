@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
:root{
  --bg: #edf8ef;
  --card: #ffffff;
  --text: #0c2b1b;
  --muted: #416b58;
  --accent: linear-gradient(135deg,#24d09a 0%, #12b879 100%);
  --accent-solid: #16c287;
  --accent-dark: #0f855f;
  --border-1: #d8e9df;
  --ring: rgba(26, 172, 120, .35);
}
@media (prefers-color-scheme: dark){
  :root{
    --bg: #071a12;
    --card: #0e2b1c;
    --text: #dff6ea;
    --muted: #8cc8b0;
    --accent: linear-gradient(135deg,#28e6a8 0%, #14c77f 100%);
    --accent-solid: #16c287;
    --accent-dark: #0aa56b;
    --border-1: #154a31;
    --ring: rgba(30, 220, 160, .25);
  }
}
*{box-sizing:border-box}
html,body{background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif}
.page .wrap{max-width:1100px;margin:0 auto;padding:16px}
.hidden{display:none!important}
.fade-enter{animation:fade .18s ease}
@keyframes fade{from{opacity:.6;translate:0 4px}to{opacity:1;translate:0 0}}

.eh-head{display:flex;align-items:center;gap:10px;padding:6px 0 10px}
.eh-title{font-size:26px;margin:0}
.eh-title-small{font-weight:700}
.eh-pill{padding:6px 10px;border:1px solid var(--border-1);border-radius:999px;background:rgba(255,255,255,.35);color:var(--muted);backdrop-filter:blur(6px)}

.eh-filters{display:flex;flex-wrap:wrap;gap:12px;margin:8px 0 16px;align-items:flex-end}
.facet{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted)}
.eh-input{border:1px solid var(--border-1);background:var(--card);border-radius:12px;padding:10px 12px;min-height:40px;box-shadow:0 1px 0 rgba(0,0,0,.02)}
.eh-input:focus{outline:2px solid var(--ring)}

.eh-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
@media (max-width:980px){.eh-grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:680px){.eh-grid{grid-template-columns:1fr}}

.eh-card{background:var(--card);border:1px solid var(--border-1);border-radius:22px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 12px 30px rgba(0,0,0,.08)}
.eh-card img{width:100%;height:160px;object-fit:cover;background:#e8f5ee;transition:scale .2s}
.eh-card:hover img{scale:1.02}
.eh-card .body{padding:14px;display:flex;flex-direction:column;gap:10px}
.eh-meta{opacity:.75;font-size:13px}
.eh-row{display:flex;align-items:center;justify-content:space-between;gap:10px}
.eh-btn{appearance:none;border:1px solid transparent;background:var(--card);color:var(--accent-dark);padding:10px 14px;border-radius:12px;cursor:pointer;transition:.15s ease;box-shadow:0 2px 0 rgba(0,0,0,.03)}
.eh-btn:hover{transform:translateY(-1px)}
.eh-btn.primary{background:var(--accent);color:#032015;font-weight:800}
.eh-btn.ghost{background:transparent;border:1px solid var(--border-1);color:var(--muted)}
.eh-btn:focus{outline:2px solid var(--ring)}
.eh-btn:disabled{opacity:.55;cursor:not-allowed}

.eh-note{padding:10px;border:1px dashed var(--border-1);border-radius:14px;background:rgba(255,255,255,.5);color:var(--muted)}

.glass{background:rgba(255,255,255,.55);backdrop-filter:blur(10px)}
@media (prefers-color-scheme: dark){ .glass{background:rgba(14,43,28,.6)} }

/* Fullscreen */
.fs{border:none;border-radius:0;padding:0;margin:0;width:100vw;height:100dvh;max-width:100vw}
.fs::backdrop{background:rgba(0,0,0,.6)}
.fs-wrap{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,rgba(248,255,251,.8) 0%,rgba(236,255,246,.9) 100%)}
@media (prefers-color-scheme: dark){ .fs-wrap{background:linear-gradient(135deg,rgba(6,26,18,.85),rgba(6,26,18,.92))} }
.fs-topbar{display:flex;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid var(--border-1)}
.icon-btn{border:1px solid var(--border-1);background:var(--card);border-radius:10px;padding:6px 10px;cursor:pointer}
.fs-title{font-weight:800;display:flex;align-items:center;gap:8px}
.fs-count{opacity:.7;font-size:12px}
.fs-timer{margin-left:auto;font-weight:900;background:var(--card);border:1px solid var(--border-1);border-radius:10px;padding:6px 10px}

.fs-progress{height:7px;border-top:1px solid var(--border-1);background:rgba(255,255,255,.4)}
.fs-progress>div{height:100%;background:var(--accent-solid);width:0%;transition:width .2s ease}

.fs-body{display:grid;grid-template-columns:300px 1fr;gap:14px;padding:14px;height:100%}
.fs-aside{border:1px solid var(--border-1);border-radius:16px;padding:12px;display:flex;flex-direction:column;gap:10px}
.fs-aside.no-scroll{overflow:visible;align-self:start}
.fs-index{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.dot{position:relative;height:42px;width:42px;border-radius:14px;border:1px solid var(--border-1);background:rgba(255,255,255,.65);display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:800;transition:.12s ease}
.dot.current{outline:2px solid var(--ring);background:#eafff5}
.dot.answered{background:linear-gradient(180deg, #dff8ec, #c8f1e1);border-color:#b9efd9}
.dot.answered::after{content:"âœ“"; position:absolute; right:-6px; top:-6px; width:18px; height:18px; border-radius:50%; background:var(--accent-solid); color:white; font-size:12px; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 4px rgba(0,0,0,.2)}
.dot.empty{opacity:.6}
.dot.sm{width:14px;height:14px;border-radius:50%;display:inline-flex}

.fs-main{border:1px solid var(--border-1);border-radius:16px;padding:14px;display:flex;flex-direction:column;gap:12px;overflow:auto}
.eh-qimg{width:100%;max-height:260px;object-fit:contain;border:1px solid var(--border-1);border-radius:16px}
.eh-qtext{padding:12px;border:1px solid var(--border-1);border-radius:16px;background:rgba(255,255,255,.7)}
.eh-choices{display:grid;gap:8px}
/* Compact choices */
.eh-choice{
  display:grid; grid-template-columns:20px 1fr; align-items:start;
  gap:6px; padding:10px 10px;
  border:1px solid var(--border-1); border-radius:14px; background:var(--card);
}
.eh-choice input{width:18px;height:18px;margin:1px 0 0 0; accent-color: var(--accent-solid);}
.eh-choice:has(input:checked){outline:2px solid var(--ring); transform:translateY(-1px); background:rgba(22,194,135,.08)}

.eh-navs{display:flex;gap:10px;align-items:center;margin-top:auto}
.eh-navs .spacer{flex:1}

.kbd-hint{opacity:.6;font-size:12px}

.fs-result{padding:14px;border-top:1px solid var(--border-1);}
.result-actions{margin-top:10px;display:flex;justify-content:flex-start}

/* Full-screen results mode */
.fs.show-result .fs-progress,
.fs.show-result .fs-body{ display:none !important; }
.fs.show-result .fs-timer{ display:none !important; }
.fs.show-result #testsResult{ display:block !important; }
#testsResult{ display:none; height:100%; overflow:auto; flex:1; }

dialog.dlg{border:1px solid var(--border-1);border-radius:16px;padding:0;max-width:520px}
dialog::backdrop{background:rgba(0,0,0,.6)}
.dlg-head{padding:14px;border-bottom:1px solid var(--border-1);font-weight:800}
.dlg-body{padding:14px;display:flex;flex-direction:column;gap:8px}
.dlg-actions{display:flex;gap:8px;justify-content:flex-end;padding:12px 14px;border-top:1px solid var(--border-1)}

@media (max-width:900px){
  .fs-body{grid-template-columns:1fr}
  .fs-aside{order:2}
}
/* --- Modern results panel --- */
.res-center{max-width:920px;margin:10px auto;display:flex;flex-direction:column;gap:16px}
.res-card{display:flex;flex-direction:column;align-items:center;gap:12px;background:var(--card,#fff);border:1px solid var(--border-1,#e6e6e6);border-radius:20px;padding:16px}
.ring{ --p:0; width:140px;height:140px;border-radius:50%;
  background:conic-gradient(var(--accent-solid,#16c287) calc(var(--p)*1%), #e6f5ef 0);
  display:grid;place-items:center;position:relative}
.ring-hole{width:100px;height:100px;background:var(--card,#fff);border-radius:50%;box-shadow:inset 0 0 0 1px var(--border-1,#e6e6e6)}
.ring-label{position:absolute;font-weight:800}
.res-title{font-weight:800;font-size:18px;text-align:center}
.res-chips{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
.chip{padding:6px 9px;border-radius:999px;border:1px solid var(--border-1,#e6e6e6);font-size:13px}
.chip.ok{background:#e6fbf3}
.chip.bad{background:#fff0f0}
.chip.mute{opacity:.85}
.chip.gem{background:#fffbe6}
.chip.time{background:#eef4ff}
.res-actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
/* ==== Savol tahlili â€” markazda, zamonaviy ==== */
.res-section{max-width:920px;margin:14px auto 0}
.res-h3{margin:8px 0 10px;font-weight:800;display:flex;align-items:center;gap:8px}
.res-h3::before{content:"ðŸ“Š";opacity:.9}

.res-table{
  max-width:920px;margin:0 auto;
  background:var(--card,#fff);
  border:1px solid var(--border-1,#e6e6e6);
  border-radius:16px;
  padding:8px; overflow:auto;
  box-shadow:0 8px 24px rgba(0,0,0,.05);
}

.eh-table{width:100%;border-collapse:separate;border-spacing:0}
.eh-table th,.eh-table td{padding:10px 12px;border-bottom:1px solid var(--border-1,#e6e6e6);font-size:14px}
.eh-table th{position:sticky;top:0;background:linear-gradient(180deg,#ffffff,#fafafa)}
.eh-table tr:last-child td{border-bottom:none}
.eh-table tr:nth-child(odd) td{background:rgba(255,255,255,.6)}

.badge{padding:4px 8px;border-radius:999px;border:1px solid var(--border-1,#e6e6e6);font-size:12px;white-space:nowrap}
.badge.ok{background:#e6fbf3;color:#0e6a4c;border-color:#b8ead7}
.badge.bad{background:#fff0f0;color:#7a1b1b;border-color:#f1c7c7}
.badge.empty{background:#f5f7fa;color:#4f5b66;border-color:#d9e1ea}

.qrow.ok td{background:linear-gradient(180deg,#f7fffb,#fafffd)}
.qrow.bad td{background:linear-gradient(180deg,#fff7f7,#fffafa)}
.qrow.empty td{opacity:.85}
