<!-- header.html â€” MathCenter premium header (to'liq funksiyalar bilan) -->
<!-- Ushbu fayl mustaqil ishlaydi: o'z CSS/JS ichida. Boshqa sahifaga qo'shishda
     <div id="site-header"></div> ichiga fetch orqali yuklashingiz yoki
     to'g'ridan-to'g'ri HTMLga qo'yishingiz mumkin. -->

<!-- Fontlar va ikonlar (ichida ishlatamiz, qo'yib yuborsangiz ham bo'ladi) -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Firebase (Auth uchun) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<style>
  :root {
    --primary: #2E8B57;
    --primary-dark: #1F6B45;
    --primary-light: #4CAF7D;
    --secondary: #1A3C34;
    --accent: #FFC107;
    --light: #F8F9FA;
    --dark: #212529;
    --gray: #6C757D;
    --light-gray: #E9ECEF;
    --radius: 10px;
    --shadow: 0 6px 24px rgba(0,0,0,.08);
    --tr: all .28s cubic-bezier(.25,.8,.25,1);
  }
  /* Reset qisqa */
  .mc-reset, .mc-reset * { box-sizing: border-box; }

  /* HEADER */
  .mc-header {
    font-family: 'Open Sans', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    background: #fff;
    color: var(--dark);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
  }
  .mc-header__top {
    background: var(--secondary);
    color: #fff;
    font-size: 14px;
    padding: 8px 0;
  }
  .mc-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
  }
  .mc-top__row {
    display: flex; align-items: center; justify-content: space-between;
  }
  .mc-top__contacts { display: flex; gap: 20px; }
  .mc-top__item { display: flex; align-items: center; gap: 8px; opacity:.95 }
  .mc-top__social { display:flex; gap:14px; }
  .mc-top__social a { color:#fff; transition: var(--tr); }
  .mc-top__social a:hover { color: var(--accent); }

  .mc-header__main { padding: 0 10px; }
  .mc-main__row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 0;
    gap: 10px;
  }
  .mc-logo { display:flex; align-items: center; gap:14px; text-decoration:none; color:inherit; }
  .mc-logo__icon {
    width:60px; height:60px; border-radius:14px;
    display:flex; align-items:center; justify-content:center;
    font-weight:700; font-size:28px; color:#fff;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    box-shadow: 0 4px 12px rgba(46,139,87,.35);
  }
  .mc-logo__text { display:flex; flex-direction: column; }
  .mc-logo__main { font-family: 'Montserrat', sans-serif; font-size:28px; font-weight:700; color: var(--primary); line-height:1; }
  .mc-logo__sub { font-size:12px; letter-spacing:1px; color: var(--gray); }

  .mc-nav { }
  .mc-nav__list { list-style:none; display:flex; gap:6px; }
  .mc-nav__item { position: relative; }
  .mc-nav__link {
    text-decoration: none; color: var(--dark);
    font-weight:600; font-size:16px; padding:12px 18px;
    border-radius:12px; display:flex; align-items:center; gap:8px;
    transition: var(--tr);
  }
  .mc-nav__link:hover { background: var(--light); color: var(--primary); }
  .mc-nav__item.is-active .mc-nav__link { background: var(--primary-light); color:#fff; }

  .mc-auth { display:flex; align-items:center; gap:14px; }
  .mc-user {
    display:none; align-items:center; gap:12px; padding:10px 14px;
    background: linear-gradient(90deg, var(--light), var(--light-gray));
    border-radius: 12px; cursor:pointer; transition: var(--tr); border:1px solid var(--light-gray);
  }
  .mc-user:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,.1); }
  .mc-user__avatar {
    width:42px; height:42px; border-radius:50%;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff; display:flex; align-items:center; justify-content:center;
    font-weight:700; font-size:18px;
  }
  .mc-user__details { display:flex; flex-direction: column; }
  .mc-user__name { font-weight:700; font-size:15px; }
  .mc-user__stats { display:flex; gap:14px; margin-top:4px; }
  .mc-user__stat { display:flex; align-items:center; gap:6px; font-size:12px; color: var(--gray); }
  .mc-user__stat i { color: var(--primary); }

  .mc-btn {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff; border:0; padding:12px 22px; border-radius:12px;
    font-weight:700; display:flex; align-items:center; gap:10px;
    box-shadow: 0 6px 16px rgba(46,139,87,.35); cursor:pointer; transition: var(--tr);
  }
  .mc-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(46,139,87,.45); }

  .mc-mobileBtn {
    display:none; background: none; border:0; font-size:24px; padding:10px; border-radius:12px; cursor:pointer; color: var(--dark);
    transition: var(--tr);
  }
  .mc-mobileBtn:hover { background: var(--light-gray); }

  /* Offcanvas nav (mobile) */
  @media (max-width: 768px) {
    .mc-logo__text { display:none; }
    .mc-mobileBtn { display:block; }
    .mc-user__details { display:none; }
    .mc-nav__list {
      position: fixed; top:0; left:-100%; width:280px; height:100vh; z-index:9999;
      background:#fff; flex-direction:column; gap:0; padding:80px 18px 24px;
      box-shadow: 0 0 22px rgba(0,0,0,.12); transition: var(--tr);
    }
    .mc-nav__list.is-open { left:0; }
    .mc-nav__item { width:100%; }
    .mc-nav__link { background: var(--light); padding:14px; }
  }
  @media (max-width: 480px) {
    .mc-logo__icon { width:50px; height:50px; font-size:24px; }
    .mc-btn { padding:10px 16px; font-size:14px; }
  }

  /* MODAL */
  .mc-modal {
    display:none; position: fixed; inset:0; z-index:10000;
    background: rgba(0,0,0,.55); backdrop-filter: blur(4px);
    align-items:center; justify-content:center;
  }
  .mc-modal__card {
    width: 92%; max-width: 640px; background:#fff; border-radius:16px; overflow: hidden;
    box-shadow: 0 18px 40px rgba(0,0,0,.22); transform: scale(.96); animation: mcModalIn .25s forwards;
  }
  @keyframes mcModalIn { to { transform: scale(1); } }
  .mc-modal__head {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color:#fff;
    padding: 22px; display:flex; align-items:center; justify-content:space-between;
  }
  .mc-modal__title { font-family:'Montserrat',sans-serif; font-size:20px; font-weight:700; }
  .mc-modal__close { width:36px; height:36px; border-radius:50%; border:0; background: rgba(255,255,255,.22); color:#fff; font-size:20px; cursor:pointer; transition: var(--tr); }
  .mc-modal__close:hover { background: rgba(255,255,255,.3); transform: rotate(90deg); }
  .mc-modal__body { padding: 22px; max-height: 72vh; overflow:auto; }

  /* FORM */
  .mc-form__row { display:flex; gap:18px; }
  .mc-form__group { flex:1; margin-bottom:16px; }
  .mc-label { display:block; font-weight:700; font-size:14px; margin-bottom:8px; color: var(--dark); }
  .mc-input, .mc-select {
    width:100%; padding:12px 14px; font-size:15px; border-radius:12px; border:1px solid var(--light-gray);
    background: var(--light); transition: var(--tr);
  }
  .mc-input:focus, .mc-select:focus { outline:none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(46,139,87,.12); background:#fff; }
  .mc-submit { width:100%; margin-top:6px; }

  @media (max-width: 520px) { .mc-form__row { flex-direction: column; gap:0; } }
</style>

<header class="mc-reset mc-header" id="mcHeader">
  <!-- Top bar -->
  <div class="mc-header__top">
    <div class="mc-container">
      <div class="mc-top__row">
        <div class="mc-top__contacts">
          <div class="mc-top__item"><i class="fas fa-phone"></i><span>+998 71 123 45 67</span></div>
          <div class="mc-top__item"><i class="fas fa-envelope"></i><span>info@mathcenter.uz</span></div>
        </div>
        <div class="mc-top__social">
          <a href="#" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
          <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main row -->
  <div class="mc-header__main">
    <div class="mc-container">
      <div class="mc-main__row">
        <a href="/" class="mc-logo" id="mcLogo">
          <div class="mc-logo__icon">M</div>
          <div class="mc-logo__text">
            <div class="mc-logo__main">MathCenter</div>
            <div class="mc-logo__sub">MATEMATIKA MARKAZI</div>
          </div>
        </a>

        <button class="mc-mobileBtn" id="mcMobileBtn" aria-label="Menu"><i class="fas fa-bars"></i></button>

        <nav class="mc-nav" aria-label="Asosiy menyu">
          <ul class="mc-nav__list" id="mcNavList">
            <li class="mc-nav__item is-active"><a class="mc-nav__link" href="/"><i class="fas fa-home"></i> Bosh sahifa</a></li>
            <li class="mc-nav__item"><a class="mc-nav__link" href="/courses.html"><i class="fas fa-book-open"></i> Kurslar</a></li>
            <li class="mc-nav__item"><a class="mc-nav__link" href="/tests.html"><i class="fas fa-clipboard-list"></i> Testlar</a></li>
            <li class="mc-nav__item"><a class="mc-nav__link" href="/simulators.html"><i class="fas fa-laptop-code"></i> Simulyatorlar</a></li>
            <li class="mc-nav__item"><a class="mc-nav__link" href="/results.html"><i class="fas fa-chart-line"></i> Natijalar</a></li>
          </ul>
        </nav>

        <div class="mc-auth">
          <div class="mc-user" id="mcUser">
            <div class="mc-user__avatar" id="mcUserAvatar">U</div>
            <div class="mc-user__details">
              <div class="mc-user__name" id="mcUserName">Foydalanuvchi</div>
              <div class="mc-user__stats">
                <div class="mc-user__stat"><i class="fas fa-coins"></i><span>Balans: <strong id="mcUserBalance">0</strong> ball</span></div>
                <div class="mc-user__stat"><i class="fas fa-star"></i><span>ID: <strong id="mcUserId">00000</strong></span></div>
              </div>
            </div>
          </div>
          <button class="mc-btn" id="mcLoginBtn"><i class="fab fa-google"></i> Google orqali kirish</button>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- PROFIL MODAL -->
<div class="mc-modal" id="mcProfileModal" role="dialog" aria-modal="true" aria-labelledby="mcProfileTitle">
  <div class="mc-modal__card">
    <div class="mc-modal__head">
      <div class="mc-modal__title" id="mcProfileTitle">Profil ma'lumotlarini to'ldiring</div>
      <button class="mc-modal__close" id="mcCloseProfile" aria-label="Yopish">&times;</button>
    </div>
    <div class="mc-modal__body">
      <form id="mcProfileForm">
        <div class="mc-form__row">
          <div class="mc-form__group">
            <label class="mc-label" for="mcFirstName">Ism</label>
            <input class="mc-input" id="mcFirstName" type="text" required>
          </div>
          <div class="mc-form__group">
            <label class="mc-label" for="mcLastName">Familiya</label>
            <input class="mc-input" id="mcLastName" type="text" required>
          </div>
        </div>

        <div class="mc-form__group">
          <label class="mc-label" for="mcMiddleName">Sharif</label>
          <input class="mc-input" id="mcMiddleName" type="text" required>
        </div>

        <div class="mc-form__group">
          <label class="mc-label" for="mcBirthDate">Tug'ilgan sana</label>
          <input class="mc-input" id="mcBirthDate" type="date" required>
        </div>

        <div class="mc-form__row">
          <div class="mc-form__group">
            <label class="mc-label" for="mcRegion">Viloyat</label>
            <select class="mc-select" id="mcRegion" required>
              <option value="">Tanlang</option>
              <option value="toshkent">Toshkent</option>
              <option value="andijon">Andijon</option>
              <option value="buxoro">Buxoro</option>
              <option value="fargona">Farg'ona</option>
              <option value="jizzax">Jizzax</option>
              <option value="namangan">Namangan</option>
              <option value="navoiy">Navoiy</option>
              <option value="qashqadaryo">Qashqadaryo</option>
              <option value="samarqand">Samarqand</option>
              <option value="sirdaryo">Sirdaryo</option>
              <option value="surxondaryo">Surxondaryo</option>
              <option value="xorazm">Xorazm</option>
              <option value="qoraqalpogiston">Qoraqalpog'iston</option>
            </select>
          </div>
          <div class="mc-form__group">
            <label class="mc-label" for="mcDistrict">Tuman</label>
            <select class="mc-select" id="mcDistrict" required>
              <option value="">Tanlang</option>
            </select>
          </div>
        </div>

        <div class="mc-form__group">
          <label class="mc-label" for="mcSchool">Maktab nomi</label>
          <input class="mc-input" id="mcSchool" type="text" required>
        </div>

        <div class="mc-form__group">
          <label class="mc-label" for="mcRole">Rolingiz</label>
          <select class="mc-select" id="mcRole" required>
            <option value="">Tanlang</option>
            <option value="teacher">O'qituvchi</option>
            <option value="student">O'quvchi</option>
            <option value="user">Foydalanuvchi</option>
            <option value="university_student">Talaba</option>
            <option value="applicant">Abiturient</option>
          </select>
        </div>

        <div class="mc-form__group">
          <label class="mc-label" for="mcInstitution">Ta'lim muassasasi nomi</label>
          <input class="mc-input" id="mcInstitution" type="text">
        </div>

        <button class="mc-btn mc-submit" type="submit">Ma'lumotlarni saqlash</button>
      </form>
    </div>
  </div>
</div>

<script>
  (function() {
    // Firebase config (siz bergan project uchun)
    const firebaseConfig = {
      apiKey: "AIzaSyDYwHJou_9GqHZcf8XxtTByC51Z8un8rrM",
      authDomain: "xplusy-760fa.firebaseapp.com",
      projectId: "xplusy-760fa"
    };
    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Elements
    const navList = document.getElementById('mcNavList');
    const mobileBtn = document.getElementById('mcMobileBtn');

    const loginBtn = document.getElementById('mcLoginBtn');
    const userBox  = document.getElementById('mcUser');
    const userName = document.getElementById('mcUserName');
    const userAvatar = document.getElementById('mcUserAvatar');
    const userBalance = document.getElementById('mcUserBalance');
    const userId = document.getElementById('mcUserId');

    const modal = document.getElementById('mcProfileModal');
    const modalClose = document.getElementById('mcCloseProfile');
    const profileForm = document.getElementById('mcProfileForm');

    const regionSel = document.getElementById('mcRegion');
    const districtSel = document.getElementById('mcDistrict');

    // Districts by region (to'liq ro'yxat)
    const districtsByRegion = {
      toshkent:["Bektemir tumani","Chilonzor tumani","Yashnobod tumani","Mirobod tumani","Mirzo Ulug'bek tumani","Sergeli tumani","Shayxontohur tumani","Olmazor tumani","Uchtepa tumani","Yakkasaroy tumani","Yunusobod tumani"],
      andijon:["Andijon shahri","Andijon tumani","Asaka tumani","Baliqchi tumani","Bo'z tumani","Buloqboshi tumani","Jalaquduq tumani","Izboskan tumani","Xo'jaobod tumani","Qo'rg'ontepa tumani","Marhamat tumani","Oltinko'l tumani","Paxtaobod tumani","Shahrixon tumani","Ulug'nor tumani"],
      buxoro:["Buxoro shahri","Buxoro tumani","Vobkent tumani","G'ijduvon tumani","Jondor tumani","Kogon tumani","Qorako'l tumani","Qorovulbozor tumani","Olot tumani","Peshku tumani","Romitan tumani","Shofirkon tumani","Qorao'zak tumani"],
      fargona:["Farg'ona shahri","Farg'ona tumani","Beshariq tumani","Bog'dod tumani","Buvayda tumani","Dang'ara tumani","Yozyovon tumani","Quva tumani","Quvasoy shahri","Qo'qon shahri","Rishton tumani","So'x tumani","Toshloq tumani","Uchko'prik tumani","O'zbekiston tumani","Furqat tumani"],
      jizzax:["Jizzax shahri","Jizzax tumani","Arnasoy tumani","Baxmal tumani","G'allaorol tumani","Do'stlik tumani","Zarbdor tumani","Zafarobod tumani","Zomin tumani","Mirzacho'l tumani","Paxtakor tumani","Forish tumani","Sharof Rashidov tumani","Yangiobod tumani"],
      namangan:["Namangan shahri","Namangan tumani","Kosonsoy tumani","Mingbuloq tumani","Norin tumani","Pop tumani","To'raqo'rg'on tumani","Uchqo'rg'on tumani","Uychi tumani","Chortoq tumani","Chust tumani","Yangiqo'rg'on tumani"],
      navoiy:["Navoiy shahri","Navoiy tumani","Zarafshon shahri","Karmana tumani","Qiziltepa tumani","Xatirchi tumani","Navbahor tumani","Nurota tumani","Tomdi tumani","Uchquduq tumani"],
      qashqadaryo:["Qarshi shahri","Qarshi tumani","Dehqonobod tumani","Kasbi tumani","Kitob tumani","Koson tumani","Mirishkor tumani","Muborak tumani","Nishon tumani","Chiroqchi tumani","Shahrisabz shahri","Yakkabog' tumani"],
      samarqand:["Samarqand shahri","Samarqand tumani","Bulung'ur tumani","Jomboy tumani","Ishtixon tumani","Kattaqo'rg'on shahri","Qo'shrabot tumani","Narpay tumani","Nurobod tumani","Oqdaryo tumani","Paxtachi tumani","Payariq tumani","Pastdarg'om tumani","Toyloq tumani","Urgut tumani"],
      sirdaryo:["Guliston shahri","Guliston tumani","Boyovut tumani","Mirzaobod tumani","Oqoltin tumani","Sayxunobod tumani","Sardoba tumani","Sirdaryo tumani","Xovos tumani","Shirin shahri","Yangiyer shahri"],
      surxondaryo:["Termiz shahri","Termiz tumani","Angor tumani","Boysun tumani","Denov tumani","Jarqo'rg'on tumani","Qiziriq tumani","Qumqo'rg'on tumani","Muzrabot tumani","Oltinsoy tumani","Sariosiyo tumani","Sherobod tumani","Sho'rchi tumani","Bandixon tumani"],
      xorazm:["Urganch shahri","Urganch tumani","Bog'ot tumani","Gurlan tumani","Qo'shko'pir tumani","Shovot tumani","Xiva tumani","Xonqa tumani","Hazorasp tumani","Yangiarik tumani","Yangibozor tumani"],
      qoraqalpogiston:["Nukus shahri","Nukus tumani","Amudaryo tumani","Beruniy tumani","Chimboy tumani","Ellikqala tumani","Kegayli tumani","Mo'ynoq tumani","Qonliko'l tumani","Qo'ng'irot tumani","Qorao'zak tumani","Shumanay tumani","Taxtako'pir tumani","To'rtko'l tumani","Xo'jayli tumani"]
    };

    // Region -> District
    regionSel.addEventListener('change', () => {
      const r = regionSel.value;
      districtSel.innerHTML = '<option value="">Tanlang</option>';
      if (r && districtsByRegion[r]) {
        districtsByRegion[r].forEach(d => {
          const opt = document.createElement('option');
          opt.value = d; opt.textContent = d;
          districtSel.appendChild(opt);
        });
      }
    });

    // Mobile menu toggle
    mobileBtn.addEventListener('click', () => {
      navList.classList.toggle('is-open');
    });

    // Close mobile menu when link clicked
    Array.from(navList.querySelectorAll('a')).forEach(a => {
      a.addEventListener('click', () => {
        navList.classList.remove('is-open');
        navList.querySelectorAll('.mc-nav__item').forEach(li => li.classList.remove('is-active'));
        a.closest('.mc-nav__item').classList.add('is-active');
      });
    });

    // Modal helpers
    const openModal = () => modal.style.display = 'flex';
    const closeModal = () => modal.style.display = 'none';

    modalClose.addEventListener('click', closeModal);
    window.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

    // Profile form submit
    profileForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const profileData = {
        firstName: document.getElementById('mcFirstName').value.trim(),
        lastName: document.getElementById('mcLastName').value.trim(),
        middleName: document.getElementById('mcMiddleName').value.trim(),
        birthDate: document.getElementById('mcBirthDate').value,
        region: document.getElementById('mcRegion').value,
        district: document.getElementById('mcDistrict').value,
        school: document.getElementById('mcSchool').value.trim(),
        role: document.getElementById('mcRole').value,
        institution: document.getElementById('mcInstitution').value.trim()
      };
      localStorage.setItem('mc_userProfile', JSON.stringify(profileData));
      applyProfileData(profileData); // ism/avatar yangilanadi
      closeModal();
      alert("Profil ma'lumotlari saqlandi!");
    });

    // Auth: Google
    loginBtn.addEventListener('click', () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider).then(result => {
        const user = result.user;
        afterLogin(user);
        // Agar profil ma'lumotlari yo'q bo'lsa, modali ochamiz
        const saved = localStorage.getItem('mc_userProfile');
        if (!saved) openModal();
      }).catch(err => {
        console.error(err);
        alert("Kirishda xatolik. Qayta urinib ko'ring.");
      });
    });

    // State listener
    auth.onAuthStateChanged((user) => {
      if (user) {
        afterLogin(user);
        const saved = localStorage.getItem('mc_userProfile');
        if (saved) applyProfileData(JSON.parse(saved));
      } else {
        // logout
        loginBtn.style.display = 'flex';
        userBox.style.display = 'none';
      }
    });

    // User card click -> open profile
    userBox.addEventListener('click', () => {
      openModal();
      const saved = localStorage.getItem('mc_userProfile');
      if (saved) {
        const p = JSON.parse(saved);
        document.getElementById('mcFirstName').value = p.firstName || '';
        document.getElementById('mcLastName').value = p.lastName || '';
        document.getElementById('mcMiddleName').value = p.middleName || '';
        document.getElementById('mcBirthDate').value = p.birthDate || '';
        document.getElementById('mcRegion').value = p.region || '';
        if (p.region) {
          regionSel.dispatchEvent(new Event('change'));
          setTimeout(() => { document.getElementById('mcDistrict').value = p.district || ''; }, 50);
        }
        document.getElementById('mcSchool').value = p.school || '';
        document.getElementById('mcRole').value = p.role || '';
        document.getElementById('mcInstitution').value = p.institution || '';
      }
    });

    // Helpers
    function afterLogin(user) {
      loginBtn.style.display = 'none';
      userBox.style.display = 'flex';

      userName.textContent = user.displayName || 'Foydalanuvchi';
      userAvatar.textContent = (user.displayName ? user.displayName.charAt(0) : 'U').toUpperCase();

      // Demo uchun random balans/ID â€” keyinchalik backend/Firebase DB bilan to'ldiring
      userBalance.textContent = Math.floor(Math.random()*1000);
      userId.textContent = Math.floor(10000 + Math.random()*90000);
    }
    function applyProfileData(p) {
      const fullName = [p.firstName, p.lastName].filter(Boolean).join(' ');
      if (fullName) userName.textContent = fullName;
      if (p.firstName) userAvatar.textContent = p.firstName.charAt(0).toUpperCase();
    }
  })();
</script>
