<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XplusY ‚Äî SPA skeleton (index + auth + header/footer + side panel)</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="data:," />
</head>
<body>
  <!-- ===== App Shell (index ‚Äî kontent #app ichiga partials orqali yuklanadi) ===== -->
  <header class="site-header">
    <button id="menuBtn" class="icon-btn burger" aria-label="Menyu" aria-controls="sidePanel" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <div class="brand">
      <span class="logo">œÄ</span>
      <span class="title">XplusY</span>
    </div>

    <nav class="site-nav">
      <a href="#home" class="nav-link">Bosh sahifa</a>
      <a href="#tests" class="nav-link">Testlar</a>
      <a href="#live" class="nav-link">Live</a>
      <a href="#leaderboard" class="nav-link">Reyting</a>
    </nav>

    <div class="auth-chip" id="authChip">
      <button id="openAuth" class="btn primary">Kirish / Ro‚Äòyxatdan o‚Äòtish</button>
    </div>
  </header>

  <main id="app" class="app"></main>

  <footer class="site-footer">
    <div class="f-left">¬© <span id="year"></span> XplusY. Barchasi muhofaza qilingan.</div>
    <div class="f-right">Uz ‚Ä¢ <a href="#about">Biz haqimizda</a></div>
  </footer>

  <!-- ===== Side Panel (Yondan ochiluvchi interaktiv menyu) ===== -->
  <aside id="sidePanel" class="side-panel" aria-hidden="true">
    <div class="panel-backdrop" data-close-panel></div>
    <div class="panel-card" role="dialog" aria-modal="true" aria-labelledby="panelTitle" tabindex="-1">
      <div class="panel-head">
        <div class="brand small">
          <span class="logo">œÄ</span>
          <span class="title" id="panelTitle">Menyu</span>
        </div>
        <button class="icon-btn close" title="Yopish" data-close-panel>√ó</button>
      </div>

      <div class="panel-body">
        <nav class="panel-nav">
          <a href="#home" class="panel-link" data-panel-link>üè† Bosh sahifa</a>
          <a href="#tests" class="panel-link" data-panel-link>üßÆ Testlar</a>
          <a href="#live" class="panel-link" data-panel-link>üü¢ Live</a>
          <a href="#leaderboard" class="panel-link" data-panel-link>üèÜ Reyting</a>
          <a href="#about" class="panel-link" data-panel-link>‚ÑπÔ∏è Biz haqimizda</a>
        </nav>

        <div class="panel-sep"></div>

        <div id="panelUser" class="panel-user muted">
          Mehmon. Kirish uchun yuqoridagi tugmadan foydalaning.
        </div>
      </div>
    </div>
  </aside>

  <!-- ===== Auth Modal ===== -->
  <div class="modal" id="authModal" aria-hidden="true">
    <div class="modal-backdrop" data-close></div>
    <div class="modal-card" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="tabs" role="tablist">
          <button class="tab active" data-tab="login">Kirish (ID + Parol)</button>
          <button class="tab" data-tab="signup">Ro‚Äòyxatdan o‚Äòtish</button>
        </div>
        <button class="icon-btn close" title="Yopish" data-close>√ó</button>
      </div>

      <div class="modal-body">
        <!-- Login -->
        <section class="tab-panel active" data-panel="login">
          <form id="loginForm" class="form">
            <div class="form-row">
              <label for="loginId">ID</label>
              <input id="loginId" name="id" inputmode="numeric" pattern="\d{7,}" placeholder="1000001" required />
            </div>
            <div class="form-row">
              <label for="loginPass">Parol</label>
              <input id="loginPass" name="password" type="password" minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
            </div>
            <button class="btn primary wide" type="submit">Kirish</button>
            <p class="muted small">Eslatma: kirish faqat ID + Parol orqali. Email/Google kirish mavjud emas.</p>
            <div id="loginMsg" class="msg"></div>
          </form>
        </section>

        <!-- Signup -->
        <section class="tab-panel" data-panel="signup">
          <div class="subtabs" role="tablist">
            <button class="subtab active" data-sub="email">Email orqali</button>
            <button class="subtab" data-sub="google">Google (faqat ro‚Äòyxatdan o‚Äòtish)</button>
            <button class="subtab" data-sub="oneclick">Bir bosishda (ID beriladi)</button>
          </div>

          <!-- Email signup -->
          <form id="signupEmailForm" class="form subpanel active" data-subpanel="email">
            <div class="form-row">
              <label for="seName">Ism Familiya (ixtiyoriy)</label>
              <input id="seName" name="name" placeholder="Ism Familiya" />
            </div>
            <div class="form-row">
              <label for="seEmail">Email</label>
              <input id="seEmail" name="email" type="email" placeholder="you@email.com" required />
            </div>
            <div class="form-row">
              <label for="sePass">Parol (o‚Äòylab toping)</label>
              <input id="sePass" name="password" type="password" minlength="6" placeholder="kamida 6 belgi" required />
            </div>
            <button class="btn success wide" type="submit">Ro‚Äòyxatdan o‚Äòtish</button>
            <div id="signupEmailMsg" class="msg"></div>
          </form>

          <!-- Google signup -->
          <div class="subpanel" data-subpanel="google">
            <p class="muted">Google orqali tezkor ro‚Äòyxatdan o‚Äòting. Keyin ID beriladi va <b>parol o‚Äòrnatish</b> shart ‚Äî kelajakda kirish faqat <b>ID + Parol</b> orqali bo‚Äòladi.</p>
            <button id="googleBtn" class="btn wide">Google bilan ro‚Äòyxatdan o‚Äòtish</button>
            <div id="signupGoogleStepSetPass" class="hidden">
              <form id="googleSetPassForm" class="form">
                <div class="form-row">
                  <label for="sgPass">Parol o‚Äòrnatish</label>
                  <input id="sgPass" type="password" minlength="6" required placeholder="kamida 6 belgi" />
                </div>
                <button class="btn success wide" type="submit">Parolni ulash</button>
              </form>
            </div>
            <div id="signupGoogleMsg" class="msg"></div>
          </div>

          <!-- One-click signup -->
          <form id="oneClickForm" class="form subpanel" data-subpanel="oneclick">
            <div class="form-row">
              <label for="ocName">Ism Familiya (ixtiyoriy)</label>
              <input id="ocName" placeholder="Ism Familiya" />
            </div>
            <div class="form-row">
              <label for="ocPass">Parol (o‚Äòylab toping)</label>
              <input id="ocPass" type="password" minlength="6" placeholder="kamida 6 belgi" required />
            </div>
            <button class="btn success wide" type="submit">Bir bosishda ro‚Äòyxatdan o‚Äòtish</button>
            <p class="muted small">Email shart emas. Sizga navbatdagi ID beriladi va tizim ichki email yaratadi.</p>
            <div id="oneClickMsg" class="msg"></div>
          </form>
        </section>
      </div>
    </div>
  </div>

  <!-- ===== Firebase config (siz bergan) ===== -->
  <script>
    window.FIREBASE_CONFIG = {
      apiKey: "AIzaSyDYwHJou_9GqHZcf8XxtTByC51Z8un8rrM",
      authDomain: "xplusy-760fa.firebaseapp.com",
      projectId: "xplusy-760fa",
      storageBucket: "xplusy-760fa.appspot.com",
      messagingSenderId: "992512966017",
      appId: "1:992512966017:web:5e919dbc9b8d8abcb43c80",
      measurementId: "G-459PLJ7P7L"
    };
  </script>

  <script type="module" src="./app.js"></script>
</body>
</html>
