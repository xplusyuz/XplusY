<!doctype html>
<html lang="uz"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>MathCenter.uz — Mobile</title>
<link rel="stylesheet" href="./assets/style.css"/></head>
<body class="theme-auto">
  <div id="auth-gate" class="gate visible">
    <div class="card p-4" style="max-width:520px;width:100%">
      <h1 class="title mb-2">MathCenter.uz</h1>
      <p class="muted mb-4">Kirish talab qilinadi</p>
      <div class="mb-3">
        <button id="btn-google" type="button" class="btn w-100 mb-2" onclick="window.__mcGoogle && window.__mcGoogle()">Google bilan davom etish</button>
        <div class="hr">yoki</div>
        <form id="email-form" class="mt-2">
          <input id="email" type="email" class="input mb-2" placeholder="Email" required/>
          <input id="password" type="password" class="input mb-2" placeholder="Parol (min 6)" minlength="6" required/>
          <div class="row gap-2">
            <button id="btn-email-login" class="btn" type="submit">Kirish</button>
            <button id="btn-email-signup" type="button" class="btn quiet">Ro'yxatdan o'tish</button>
          </div>
        </form>
      </div>
      <p id="auth-error" class="error hidden"></p>
    </div>
  </div>

  <dialog id="profile-modal" class="modal">
    <form method="dialog" class="card p-4 w-100" style="max-width:680px;">
      <h2 class="mb-3">Profil ma'lumotlarini to'ldiring</h2>
      <div class="grid two">
        <input id="p-firstName" class="input" placeholder="Ism" required/>
        <input id="p-lastName" class="input" placeholder="Familiya" required/>
        <input id="p-middleName" class="input" placeholder="Otasining ismi" required/>
        <input id="p-birthDate" class="input" type="date" placeholder="Tug'ilgan sana" required/>
        <input id="p-address" class="input" placeholder="Yashash manzili" required/>
        <input id="p-phone" class="input" type="tel" placeholder="Telefon raqami" required/>
      </div>
      <p class="muted mt-2">* Keyin faqat <b>telefon</b> va <b>manzil</b> tahrirlanadi.</p>
      <div class="row end mt-3"><button id="btn-save-profile" class="btn">Saqlash</button></div>
      <p id="profile-error" class="error hidden mt-2"></p>
    </form>
  </dialog>

  <header class="topbar">
    <div class="brand row gap-2"><span class="logo">🎓</span><strong>MathCenter</strong></div>
    <div class="row gap-3">
      <div id="user-badges" class="row gap-2 muted small">
        <span id="badge-id">ID: —</span><span id="badge-balance">💵 0</span><span id="badge-gems">💎 0</span>
      </div>
      <button id="btn-theme" class="icon" title="Kun/Tun">🌓</button>
    </div>
  </header>

  <main id="page-root" class="content"></main>

  <nav class="bnav">
    <button data-page="home" class="active">🏠<span>Uy</span></button>
    <button data-page="courses">🎓<span>Kurslar</span></button>
    <button data-page="tests">📝<span>Testlar</span></button>
    <button data-page="sim">🎮<span>Simulyator</span></button>
    <button data-page="settings">⚙️<span>Sozlamalar</span></button>
  </nav>

  <script type="module" src="./js/firebase.js"></script>
  <script type="module" src="./js/app.js"></script>
</body></html>
