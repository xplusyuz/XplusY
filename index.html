<!doctype html>
<html lang="uz">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>LeaderMath ‚Äî Premium Stars</title>
<meta name="theme-color" content="#2E8B57">
<style>
:root{
  --brand:#2E8B57;--brand2:#1F6B45;
  --bg:#f4f8f6;--text:#0d1b14;--muted:#375c4c;
  --card:#fff;--frame:#d8e7dd;--chip:#eaf6f0;--chip-b:#cfe7db;
}
html,body{margin:0;font-family:Inter,system-ui;background:var(--bg);color:var(--text)}
.appbar{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;
  padding:10px 12px;display:flex;align-items:center;gap:10px}
.logo{width:40px;height:40px;border-radius:12px;background:#fff2;display:grid;place-items:center;font-weight:800}
.spacer{flex:1}
.iconbtn{background:#ffffff22;border:1px solid #ffffff33;color:#fff;
  border-radius:12px;padding:8px 10px;cursor:pointer}
.userbar{margin:10px;border:1px solid var(--frame);background:var(--card);
  border-radius:14px;padding:10px;display:flex;align-items:center;gap:10px}
.ava{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand2));
  color:#fff;display:grid;place-items:center;font-weight:900;overflow:hidden}
.ava img{width:100%;height:100%;object-fit:cover}
.uinfo b{display:block;font-size:16px}
.uinfo .meta{font-size:12px;color:var(--muted)}
.uvals{margin-left:auto;text-align:right}
.chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;
  background:var(--chip);border:1px solid var(--chip-b);font-size:12px}
.ustars{display:inline-flex;gap:3px;vertical-align:middle}
.stars svg{width:18px;height:18px}
.board{margin:10px;border:1px solid var(--frame);border-radius:14px;background:var(--card);padding:10px}
.groupHead{padding:10px 14px;border-radius:10px;font-weight:900;color:#063a27}
.tier-diamond{background:linear-gradient(135deg,#e8f8ff,#d8f1ff)}
.tier-emerald{background:linear-gradient(135deg,#e3f8ee,#c9f1df)}
.tier-gold{background:linear-gradient(135deg,#fff4cc,#ffe48a)}
.tier-silver{background:linear-gradient(135deg,#f4f7fb,#dfe7f4)}
.tier-bronze{background:linear-gradient(135deg,#fff1e6,#ffd9c2)}
.rank{display:grid;grid-template-columns:50px 1fr auto;align-items:center;gap:8px;
  background:var(--card);margin:6px 0;padding:8px 10px;border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.05)}
.rank:hover{transform:scale(1.02);transition:.2s}
.rnk{font-weight:700}
.pager{display:flex;justify-content:space-between;align-items:center;margin:8px 0}
.pbtn{background:var(--chip);border:1px solid var(--frame);border-radius:8px;padding:6px 10px;cursor:pointer}
.pinfo{font-size:12px;color:var(--muted)}
</style>
</head>
<body>

<header class="appbar">
  <div class="logo">L</div><b>LeaderMath</b><div class="spacer"></div>
  <button id="themeBtn" class="iconbtn">üåô</button>
</header>

<section class="userbar">
  <div class="ava" id="ava">LM</div>
  <div class="uinfo">
    <b id="uname">Mehmon</b>
    <div class="meta" id="umeta">Viloyat: ‚Äî ¬∑ Tuman: ‚Äî</div>
  </div>
  <div class="uvals">
    <div class="chip"><b id="points">Ball: ‚Äî</b><span id="userPointsStars" class="ustars"></span></div>
  </div>
</section>

<section class="board">
  <div class="pager">
    <button id="decilePrev" class="pbtn">‚¨ÖÔ∏è Oldingi</button>
    <div class="pinfo" id="decileInfo">10‚Äì1</div>
    <button id="decileNext" class="pbtn">Keyingi ‚û°Ô∏è</button>
  </div>
  <div id="boardList"></div>
</section>

<script type="module">
const el={boardList:document.getElementById('boardList'),
  decilePrev:document.getElementById('decilePrev'),
  decileNext:document.getElementById('decileNext'),
  decileInfo:document.getElementById('decileInfo'),
  userPointsStars:document.getElementById('userPointsStars'),
  points:document.getElementById('points'),
  uname:document.getElementById('uname'),ava:document.getElementById('ava')};

const GROUPS=[
  {label:'10‚Äì1',start:1,end:10,tier:'diamond',grad:['#9FE3FF','#39B6FF','#0077FF']},
  {label:'20‚Äì11',start:11,end:20,tier:'emerald',grad:['#8FE3B0','#2E8B57','#1F6B45']},
  {label:'30‚Äì21',start:21,end:30,tier:'gold',grad:['#FFE082','#FFC107','#FF8F00']},
  {label:'40‚Äì31',start:31,end:40,tier:'silver',grad:['#DDE3EC','#BFC6D4','#9AA6B2']},
  {label:'50‚Äì41',start:41,end:50,tier:'bronze',grad:['#C69462','#9A6B3F','#7C4F2E']}
];
let CURRENT_DECILE=0;

function starSVG(fillPct,c){const[id1,id2]=['g'+Math.random().toString(36).slice(2,6),'c'+Math.random().toString(36).slice(2,6)];
return `<svg viewBox="0 0 24 24"><defs>
<linearGradient id="${id1}" x1="0" x2="1">
<stop offset="0%" stop-color="${c[0]}"/><stop offset="50%" stop-color="${c[1]}"/><stop offset="100%" stop-color="${c[2]}"/></linearGradient>
<clipPath id="${id2}"><rect x="0" y="0" width="${fillPct}%" height="100%"/></clipPath>
</defs>
<path d="M12 2.3l2.9 5.9 6.5.9-4.7 4.5 1.1 6.4L12 17.8l-5.8 3.1 1.1-6.4L2.6 9.1l6.5-.9L12 2.3z" fill="#d0dbd5"/>
<path d="M12 2.3l2.9 5.9 6.5.9-4.7 4.5 1.1 6.4L12 17.8l-5.8 3.1 1.1-6.4L2.6 9.1l6.5-.9L12 2.3z"
 fill="url(#${id1})" clip-path="url(#${id2})"/></svg>`;}
function renderStars(n,tier){
 const g=GROUPS.find(x=>x.tier===tier)||GROUPS[0];
 const f=Math.floor(n),h=n-f>=0.5?1:0,e=5-f-h;
 const fs=starSVG(100,g.grad),hs=starSVG(50,g.grad),es=starSVG(0,g.grad);
 return `<span class="stars">${fs.repeat(f)}${h?hs:''}${es.repeat(e)}</span>`;
}
function drawDecile(users,i){
 const g=GROUPS[i];if(!g){el.boardList.innerHTML='';return;}
 const arr=users.slice(0,50);const rows=[];
 for(let r=g.start;r<=g.end;r++){
  const u=arr[r-1];if(!u)continue;
  const stars=0.5+(g.end-r)*0.5;
  rows.push(`<div class="rank">
   <div class="rnk">#${r}</div>
   <div><b>${u.name}</b></div>
   <div>${renderStars(stars,g.tier)}</div>
  </div>`);}
 el.boardList.innerHTML=`<div class="groupHead tier-${g.tier}">${g.label}</div>${rows.join('')}`;
 el.decileInfo.textContent=g.label;
 el.decilePrev.disabled=(i<=0);el.decileNext.disabled=(i>=GROUPS.length-1);
}
const users=[...Array(50)].map((_,i)=>({name:`Foydalanuvchi ${i+1}`})); // test data
function setUserPointsStars(rank){
 let grp=GROUPS.find(g=>rank>=g.start&&rank<=g.end);if(!grp)return;
 const stars=0.5+(grp.end-rank)*0.5;
 el.userPointsStars.innerHTML=renderStars(stars,grp.tier);
}
let myRank=7; // misol uchun foydalanuvchi 7-o‚Äòrinda
setUserPointsStars(myRank);
drawDecile(users,CURRENT_DECILE);
el.decilePrev.onclick=()=>{if(CURRENT_DECILE>0){CURRENT_DECILE--;drawDecile(users,CURRENT_DECILE)}};
el.decileNext.onclick=()=>{if(CURRENT_DECILE<GROUPS.length-1){CURRENT_DECILE++;drawDecile(users,CURRENT_DECILE)}};
</script>
</body>
</html>
