<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover"/>
  <title>MathCenter.uz</title>
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg"/>
  <link rel="stylesheet" href="/css/style.css?v=1758369821"/>
</head>
<body>
  <!-- Splash (3s) -->
  <div id="splash">
    <div class="logo-wrap">
      <img src="/assets/logo.svg" alt="MathCenter logo"/>
      <h1>MathCenter.uz</h1>
      <p>Xush kelibsiz!</p>
    </div>
  </div>

  <div id="app-shell">
    <header>
      <div class="header-left">
        <a href="#/home" class="logo" id="btn-home">
          <img src="/assets/logo.svg" alt="logo"/>
          <span>MathCenter</span>
        </a>
        <div class="header-hello premium-card" id="hello-card">
          <span class="premium-title">Salom!</span>
          <span class="primary" id="hello-name">Mehmon</span>
          <span class="badge" id="hello-age">‚Äî yosh</span>
        </div>
      </div>
      <div class="header-right">
        <div id="header-mini" class="mini-card"></div>
        <button id="btn-profile" class="button">Profil</button>
        <button id="btn-login" class="button">Kirish</button>
      </div>
    </header>

    <main id="app"></main>

    <!-- Floating touch menu -->
    <div id="fab" title="Tez menyu">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 7a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H8a1 1 0 110-2h3V8a1 1 0 011-1z"/></svg>
    </div>
    <div id="fab-menu">
      <a class="fab-item" href="#/tests">üìä Testlar</a>
      <a class="fab-item" href="#/live">üü¢ Live</a>
      <a class="fab-item" href="#/profile">üßë‚Äçüíº Profil</a>
    </div>
  </div>

  <!-- LOGIN MODAL -->
  <div class="modal" id="modal-login" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <strong>Kirish / Ro ªyxatdan o ªtish</strong>
        <button id="modal-login-close" class="button secondary">Yopish</button>
      </div>
      <div class="modal-body">
        <div class="grid two">
          <div>
            <h3>ID + Parol</h3>
            <form id="login-id-form" class="grid">
              <input class="input" id="login-id" required placeholder="ID (masalan 1001)"/>
              <input class="input" id="login-pass" required type="password" placeholder="Parol"/>
              <button class="button">Kirish</button>
              <span id="login-id-error" style="color:#b91c1c"></span>
            </form>
          </div>
          <div>
            <h3>Email / Google / Telefon</h3>
            <form id="reg-email-form" class="grid">
              <input class="input" id="reg-email" type="email" placeholder="Email"/>
              <input class="input" id="reg-pass" type="password" placeholder="Parol"/>
              <button class="button">Email bilan ro ªyxatdan o ªtish</button>
              <span id="reg-email-error" style="color:#b91c1c"></span>
            </form>
            <button id="btn-google" class="button" style="margin-top:8px">Google orqali</button>
            <div class="grid" style="margin-top:10px">
              <input class="input" id="reg-phone" type="tel" placeholder="+99890..."/>
              <button id="phone-send" class="button">Telefon orqali</button>
              <div id="recaptcha-container"></div>
              <span id="reg-phone-error" style="color:#b91c1c"></span>
            </div>
          </div>
        </div>
        <p style="color:#64748b;margin-top:8px">Eslatma: ID bilan kirish uchun admin sizga ID va parol bergan bo‚Äòlishi kerak. Email/Google/Telefonda ro ªyxatdan o‚Äòtgach, profilni to ªldirish shart.</p>
      </div>
    </div>
  </div>

  <!-- PROFILE MODAL (first login required) -->
  <div class="modal" id="modal-profile" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <strong>Profilni to ªldiring (majburiy)</strong>
        <button id="modal-profile-close" class="button secondary">Yopish</button>
      </div>
      <form id="profile-form">
        <div class="modal-body">
          <div class="grid two">
            <input name="firstName" class="input" placeholder="Ism" required/>
            <input name="lastName" class="input" placeholder="Familiya" required/>
            <input name="patronymic" class="input" placeholder="Sharif"/>
            <input name="birthDate" class="input" type="date" placeholder="Tug ªilgan sana" required/>
            <input name="phone" class="input" type="tel" placeholder="Telefon raqam" required/>
            <input name="telegram" class="input" placeholder="Telegram link (ixtiyoriy)"/>
            <input name="email" class="input" type="email" placeholder="Email (agar bo‚Äòlsa)"/>
            <select name="role" class="input" required>
              <option value="" disabled selected>Rolni tanlang</option>
              <option value="O ªquvchi">O ªquvchi</option>
              <option value="O ªqituvchi">O ªqituvchi</option>
            </select>
            <div>
              <label>Viloyat</label>
              <select id="region" name="region" class="input" required></select>
            </div>
            <div id="district-wrap">
              <div style="display:none">
                <label>Tuman/Shahar</label>
                <select id="district-select" name="districtSelect" class="input"></select>
              </div>
              <div>
                <label>Tuman/Shahar (qo ªlda)</label>
                <input id="district-input" name="districtInput" class="input" placeholder="Masalan: Namangan shahri"/>
              </div>
            </div>
            <input name="school" class="input" placeholder="Maktab (masalan: 12-maktab)"/>
          </div>
        </div>
        <div class="modal-actions">
          <button class="button" type="submit">Saqlash</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="/js/auth.js?v=1758369821"></script>
</body>
</html>