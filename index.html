<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XplusY — SPA skeleton (index + auth + header/footer)</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="data:," />
</head>
<body>
  <!-- ===== App Shell (index — hech qanday kontent yo'q, #app ichiga partials yuklanadi) ===== -->
  <header class="site-header">
    <div class="brand">
      <span class="logo">π</span>
      <span class="title">XplusY</span>
    </div>

    <nav class="site-nav">
      <a href="#home" class="nav-link">Bosh sahifa</a>
      <a href="#tests" class="nav-link">Testlar</a>
      <a href="#live" class="nav-link">Live</a>
      <a href="#leaderboard" class="nav-link">Reyting</a>
    </nav>

    <div class="auth-chip" id="authChip">
      <button id="openAuth" class="btn primary">Kirish / Ro‘yxatdan o‘tish</button>
    </div>
  </header>

  <main id="app" class="app"></main>

  <footer class="site-footer">
    <div class="f-left">© <span id="year"></span> XplusY. Barchasi muhofaza qilingan.</div>
    <div class="f-right">Uz • <a href="#about">Biz haqimizda</a></div>
  </footer>

  <!-- ===== Auth Modal ===== -->
  <div class="modal" id="authModal" aria-hidden="true">
    <div class="modal-backdrop" data-close></div>
    <div class="modal-card" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="tabs" role="tablist">
          <button class="tab active" data-tab="login">Kirish (ID + Parol)</button>
          <button class="tab" data-tab="signup">Ro‘yxatdan o‘tish</button>
        </div>
        <button class="icon-btn close" title="Yopish" data-close>×</button>
      </div>

      <div class="modal-body">
        <!-- Login -->
        <section class="tab-panel active" data-panel="login">
          <form id="loginForm" class="form">
            <div class="form-row">
              <label for="loginId">ID</label>
              <input id="loginId" name="id" inputmode="numeric" pattern="\d{7,}" placeholder="1000001" required />
            </div>
            <div class="form-row">
              <label for="loginPass">Parol</label>
              <input id="loginPass" name="password" type="password" minlength="6" placeholder="••••••" required />
            </div>
            <button class="btn primary wide" type="submit">Kirish</button>
            <p class="muted small">Eslatma: kirish faqat ID + Parol orqali. Email/Google kirish mavjud emas.</p>
            <div id="loginMsg" class="msg"></div>
          </form>
        </section>

        <!-- Signup -->
        <section class="tab-panel" data-panel="signup">
          <div class="subtabs" role="tablist">
            <button class="subtab active" data-sub="email">Email orqali</button>
            <button class="subtab" data-sub="google">Google (faqat ro‘yxatdan o‘tish)</button>
            <button class="subtab" data-sub="oneclick">Bir bosishda (ID beriladi)</button>
          </div>

          <!-- Email signup -->
          <form id="signupEmailForm" class="form subpanel active" data-subpanel="email">
            <div class="form-row">
              <label for="seName">Ism Familiya (ixtiyoriy)</label>
              <input id="seName" name="name" placeholder="Ism Familiya" />
            </div>
            <div class="form-row">
              <label for="seEmail">Email</label>
              <input id="seEmail" name="email" type="email" placeholder="you@email.com" required />
            </div>
            <div class="form-row">
              <label for="sePass">Parol (o‘ylab toping)</label>
              <input id="sePass" name="password" type="password" minlength="6" placeholder="kamida 6 belgi" required />
            </div>
            <button class="btn success wide" type="submit">Ro‘yxatdan o‘tish</button>
            <div id="signupEmailMsg" class="msg"></div>
          </form>

          <!-- Google signup -->
          <div class="subpanel" data-subpanel="google">
            <p class="muted">Google orqali tezkor ro‘yxatdan o‘ting. Keyin ID beriladi va <b>parol o‘rnatish</b> shart — kelajakda kirish faqat ID + Parol orqali bo‘ladi.</p>
            <button id="googleBtn" class="btn wide">Google bilan ro‘yxatdan o‘tish</button>
            <div id="signupGoogleStepSetPass" class="hidden">
              <form id="googleSetPassForm" class="form">
                <div class="form-row">
                  <label for="sgPass">Parol o‘rnatish</label>
                  <input id="sgPass" type="password" minlength="6" required placeholder="kamida 6 belgi" />
                </div>
                <button class="btn success wide" type="submit">Parolni ulash</button>
              </form>
            </div>
            <div id="signupGoogleMsg" class="msg"></div>
          </div>

          <!-- One-click signup -->
          <form id="oneClickForm" class="form subpanel" data-subpanel="oneclick">
            <div class="form-row">
              <label for="ocName">Ism Familiya (ixtiyoriy)</label>
              <input id="ocName" placeholder="Ism Familiya" />
            </div>
            <div class="form-row">
              <label for="ocPass">Parol (o‘ylab toping)</label>
              <input id="ocPass" type="password" minlength="6" placeholder="kamida 6 belgi" required />
            </div>
            <button class="btn success wide" type="submit">Bir bosishda ro‘yxatdan o‘tish</button>
            <p class="muted small">Email shart emas. Sizga navbatdagi ID beriladi va tizim ichki email yaratadi.</p>
            <div id="oneClickMsg" class="msg"></div>
          </form>
        </section>
      </div>
    </div>
  </div>

  <!-- Firebase config — BU YERGA O'Z KONFIGINGIZNI QO'YING -->
  <script>
    // Masalan:
    // window.FIREBASE_CONFIG = {
    //   apiKey: "...",
    //   authDomain: "...",
    //   projectId: "xplusy-760fa",
    //   storageBucket: "...",
    //   messagingSenderId: "...",
    //   appId: "...",
    //   measurementId: "...",
    // };
  </script>

  <script type="module" src="./app.js"></script>
</body>
</html>
