<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MathCenter.uz â€” Mobile Starter</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <meta name="theme-color" content="#0b1220" />
</head>
<body>
  <header id="topbar" class="topbar hidden">
    <div class="left">
      <strong class="brand">MathCenter.uz</strong>
      <span class="pill online">Online</span>
    </div>
    <div id="userLine" class="right"></div>
  </header>

  <main id="app" class="app hidden">
    <section id="page-home" data-page="home" class="page show">
      <div class="hero">
        <h1>Assalomu alaykum! ðŸ‘‹</h1>
        <p>Bu yerda kurslar, testlar va simulyatorlar sizni kutmoqda.</p>
      </div>

      <div class="grid4">
        <a class="card action" data-goto="courses">
          <div class="card-title">Kurslar</div>
          <div class="card-sub">Yangi mavzular bilan tanishing</div>
        </a>
        <a class="card action" data-goto="tests">
          <div class="card-title">Testlar</div>
          <div class="card-sub">DTM / Milliy / Attestatsiya</div>
        </a>
        <a class="card action" data-goto="simulator">
          <div class="card-title">Simulyator</div>
          <div class="card-sub">Vaqt va ball bilan mashq</div>
        </a>
        <a class="card action" data-goto="settings">
          <div class="card-title">Sozlamalar</div>
          <div class="card-sub">Profil va koâ€˜rinish</div>
        </a>
      </div>
    </section>

    <section id="page-courses" data-page="courses" class="page">
      <h2>Kurslar</h2>
      <p>Kurslar tez orada qoâ€˜shiladi. ðŸ˜Š</p>
    </section>

    <section id="page-tests" data-page="tests" class="page">
      <h2>Testlar</h2>
      <div class="card list">
        <div class="row">
          <div>
            <div class="title">DTM Demo</div>
            <div class="meta">Umumiy vaqt: 20 daq â€¢ +3 / âˆ’0.75</div>
          </div>
          <a class="btn ghost" href="./tests/test.html">Boshlash</a>
        </div>
      </div>
    </section>

    <section id="page-simulator" data-page="simulator" class="page">
      <h2>Simulyator</h2>
      <p>Simulyator moduli bu start kitga qoâ€˜shib boriladi.</p>
    </section>

    <section id="page-settings" data-page="settings" class="page">
      <h2>Sozlamalar</h2>
      <div class="card form">
        <div class="form-row">
          <label>Kun / Tun rejimi</label>
          <button id="themeToggle" class="btn">Almashtirish</button>
        </div>
        <div class="form-row">
          <label>Manzil</label>
          <textarea id="address" placeholder="Viloyat, tuman, MFY, koâ€˜cha..."></textarea>
        </div>
        <div class="form-row">
          <label>Telefon raqami</label>
          <input id="phone" type="tel" inputmode="tel" placeholder="+998 ** *** ** **" />
        </div>
        <div class="form-row actions">
          <button id="saveEditable" class="btn primary">Saqlash</button>
          <button id="signOut" class="btn danger">Chiqish</button>
        </div>
        <p class="hint">Eslatma: Faqat <b>manzil</b> va <b>telefon</b> tahrirlanadi.</p>
      </div>
    </section>
  </main>

  <nav id="tabbar" class="tabbar hidden">
    <button class="tab active" data-goto="home" aria-label="Uy">
      <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M4 10.5 12 4l8 6.5V20a2 2 0 0 1-2 2h-4v-6H10v6H6a2 2 0 0 1-2-2z"/></svg>
      <span>Uy</span>
    </button>
    <button class="tab" data-goto="courses" aria-label="Kurslar">
      <svg viewBox="0 0 24 24" width="22" height="22"><path d="M4 6h16v4H4zM4 12h10v4H4zM4 18h16v2H4z"/></svg>
      <span>Kurslar</span>
    </button>
    <button class="tab" data-goto="tests" aria-label="Testlar">
      <svg viewBox="0 0 24 24" width="22" height="22"><path d="M8 3h8l1 2h4v2H3V5h4zM3 9h18v12H3z"/></svg>
      <span>Testlar</span>
    </button>
    <button class="tab" data-goto="simulator" aria-label="Simulyator">
      <svg viewBox="0 0 24 24" width="22" height="22"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 5v5l4 2-1 1-5-3V7z"/></svg>
      <span>Simulyator</span>
    </button>
    <button class="tab" data-goto="settings" aria-label="Sozlamalar">
      <svg viewBox="0 0 24 24" width="22" height="22"><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm8.94 4.5.94 1.63-1.5 2.6-1.88-.4a7.86 7.86 0 0 1-1.09.64l-.39 1.89h-3l-.39-1.89a7.86 7.86 0 0 1-1.09-.64l-1.88.4-1.5-2.6.94-1.63a7.9 7.9 0 0 1 0-1.3L3.12 9.6l1.5-2.6 1.88.4c.35-.24.71-.45 1.09-.64L8 5h3l.39 1.89c.38.19.74.4 1.09.64l1.88-.4 1.5 2.6-1.94 1.6c.04.43.04.87 0 1.3z"/></svg>
      <span>Sozlamalar</span>
    </button>
  </nav>

  <div id="auth-screen" class="auth-screen">
    <div class="auth-card">
      <h2>Kirish majburiy</h2>
      <p>Google yoki email orqali tizimga kiring.</p>
      <div class="auth-actions">
        <button id="btnGoogle" class="btn google">Google bilan davom etish</button>
      </div>
      <div class="form-divider"><span>yoki</span></div>
      <div class="form-row">
        <input id="email" type="email" placeholder="Email" />
      </div>
      <div class="form-row">
        <input id="password" type="password" placeholder="Parol (kamida 6 belgidan)" />
      </div>
      <div class="form-row actions">
        <button id="btnEmailSignIn" class="btn">Kirish</button>
        <button id="btnEmailSignUp" class="btn ghost">Roâ€˜yxatdan oâ€˜tish</button>
      </div>
      <p class="hint">Kirishda muammo boâ€˜lsa, parolni tiklang yoki Googleâ€™dan foydalaning.</p>
    </div>
  </div>

  <dialog id="profileModal" class="modal">
    <form method="dialog" class="modal-card" id="profileForm">
      <h3>Profilni toâ€˜ldiring</h3>
      <div class="grid2">
        <div class="form-row"><label>Familiya</label><input id="lastName" required /></div>
        <div class="form-row"><label>Ism</label><input id="firstName" required /></div>
        <div class="form-row"><label>Otasining ismi</label><input id="middleName" required /></div>
        <div class="form-row"><label>Tugâ€˜ilgan sana</label><input id="dob" type="date" required /></div>
        <div class="form-row col-span-2"><label>Yashash manzili</label><textarea id="pf_address" required></textarea></div>
        <div class="form-row col-span-2"><label>Telefon raqami</label><input id="pf_phone" type="tel" inputmode="tel" required /></div>
      </div>
      <div class="form-row actions"><button id="saveProfile" class="btn primary" value="save">Saqlash</button></div>
      <p class="hint">Eslatma: keyinchalik faqat <b>manzil</b> va <b>telefon</b> tahrirlanadi.</p>
    </form>
  </dialog>

  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-functions-compat.js"></script>
  <script src="./firebase.js"></script>
  <script src="./app.js"></script>
</body>
</html>
