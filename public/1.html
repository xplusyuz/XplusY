<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2E8B57">
    <title>LeaderMath.UZ â€” App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="logo.png" type="image/png">
    <style>
        :root {
            --primary: #2E8B57;
            --primary-light: #3CB371;
            --primary-dark: #1E6B47;
            --gradient: linear-gradient(135deg, #2E8B57, #3CB371);
            --glass: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 20px 50px rgba(46, 139, 87, 0.15);
            --text: #1A202C;
            --text-light: #718096;
            --radius: 24px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #f0fdf4, #dcfce7, #f0f9ff);
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Background decorative elements */
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            z-index: 0;
            opacity: 0.6;
        }

        .bg-circle:nth-child(1) {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.08), transparent);
            top: 5%;
            left: 5%;
        }

        .bg-circle:nth-child(2) {
            width: 400px;
            height: 400px;
            background: linear-gradient(135deg, transparent, rgba(60, 179, 113, 0.05));
            bottom: 5%;
            right: 5%;
        }

        .bg-circle:nth-child(3) {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.06), transparent);
            top: 60%;
            left: 80%;
        }

        /* Main app container */
        .app-container {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 20px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: slideDown 0.6s ease-out;
        }

        .logo-container {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(46, 139, 87, 0.15);
            border: 2px solid var(--primary-light);
            overflow: hidden;
        }

        .logo-container img {
            width: 50px;
            height: 50px;
            object-fit: contain;
        }

        .header-info {
            flex: 1;
        }

        .header-title {
            font-size: 22px;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .header-subtitle {
            font-size: 13px;
            color: var(--text-light);
        }

        /* User profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 50px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: 2px solid var(--primary);
            object-fit: cover;
        }

        .user-details {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .user-name {
            font-weight: 700;
            font-size: 14px;
            color: var(--text);
        }

        .user-stats {
            display: flex;
            gap: 10px;
            font-size: 11px;
            color: var(--text-light);
        }

        .user-stat {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .header-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(46, 139, 87, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition);
        }

        .header-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Main content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        /* Level Section */
        .level-section {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease-out 0.2s both;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 800;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--primary);
        }

        .section-subtitle {
            font-size: 13px;
            color: var(--text-light);
        }

        .level-card {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 25px;
            align-items: center;
        }

        .medal-container {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 30px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 15px 35px rgba(46, 139, 87, 0.2);
            border: 3px solid var(--primary-light);
            overflow: hidden;
        }

        .medal-container img {
            width: 80px;
            height: 80px;
            object-fit: contain;
        }

        .medal-glow {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at center, rgba(46, 139, 87, 0.2), transparent 70%);
            filter: blur(10px);
            z-index: 0;
        }

        .level-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .level-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .level-text {
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
        }

        .level-range {
            font-size: 13px;
            color: var(--text-light);
        }

        .progress-container {
            width: 100%;
            height: 12px;
            background: rgba(46, 139, 87, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .level-stats {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: var(--text-light);
        }

        .rating-btn {
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .rating-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(46, 139, 87, 0.2);
        }

        /* Video Banner */
        .video-section {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease-out 0.3s both;
        }

        .video-container {
            position: relative;
            width: 100%;
            border-radius: 18px;
            overflow: hidden;
            aspect-ratio: 16 / 9;
            margin-top: 15px;
        }

        .video-element {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .video-controls {
            position: absolute;
            right: 20px;
            bottom: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .video-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(46, 139, 87, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition);
        }

        .video-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* Challenge Section */
        .challenge-section {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease-out 0.4s both;
        }

        .challenge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .challenge-card {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(46, 139, 87, 0.1);
            transition: var(--transition);
        }

        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(46, 139, 87, 0.1);
        }

        .challenge-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .challenge-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
        }

        .challenge-info h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 5px;
        }

        .challenge-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 11px;
            font-weight: 700;
            margin-top: 5px;
        }

        .status-live {
            background: rgba(46, 139, 87, 0.15);
            color: var(--primary);
        }

        .status-upcoming {
            background: rgba(245, 158, 11, 0.15);
            color: #F59E0B;
        }

        .status-ended {
            background: rgba(148, 163, 184, 0.15);
            color: #94A3B8;
        }

        .challenge-timer {
            font-size: 12px;
            color: var(--text-light);
            margin: 10px 0;
        }

        .challenge-action {
            width: 100%;
            padding: 12px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
        }

        .challenge-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(46, 139, 87, 0.2);
        }

        /* Content Section */
        .content-section {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease-out 0.5s both;
        }

        .content-filters {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            margin-bottom: 20px;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .content-filters::-webkit-scrollbar {
            display: none;
        }

        .filter-chip {
            flex: 0 0 auto;
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(46, 139, 87, 0.1);
            font-weight: 600;
            font-size: 14px;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-chip.active {
            background: var(--gradient);
            color: white;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 18px;
            padding: 20px;
            border: 1px solid rgba(46, 139, 87, 0.1);
            transition: var(--transition);
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(46, 139, 87, 0.1);
        }

        .content-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.15), rgba(60, 179, 113, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 22px;
            color: var(--primary);
        }

        .content-card h4 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 10px;
        }

        .content-card p {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .content-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }

        .content-tag {
            padding: 4px 10px;
            border-radius: 50px;
            background: rgba(46, 139, 87, 0.08);
            font-size: 11px;
            color: var(--primary);
        }

        .content-action {
            width: 100%;
            padding: 10px;
            background: rgba(46, 139, 87, 0.1);
            border: 1px solid rgba(46, 139, 87, 0.2);
            border-radius: 12px;
            color: var(--primary);
            font-weight: 700;
            font-size: 13px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .content-action:hover {
            background: var(--primary);
            color: white;
        }

        /* Comments Dock */
        .comments-dock {
            position: fixed;
            right: 30px;
            bottom: 30px;
            z-index: 100;
        }

        .comments-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(46, 139, 87, 0.3);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .comments-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(46, 139, 87, 0.4);
        }

        .comments-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #EF4444;
            color: white;
            font-size: 12px;
            font-weight: 900;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Footer */
        .footer {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 25px 30px;
            margin-top: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.8s ease-out 0.6s both;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        .footer-info h3 {
            font-size: 18px;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .footer-info p {
            font-size: 13px;
            color: var(--text-light);
        }

        .footer-links {
            display: flex;
            gap: 15px;
        }

        .footer-link {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(46, 139, 87, 0.1);
            border: 1px solid rgba(46, 139, 87, 0.2);
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .footer-link:hover {
            background: var(--primary);
            color: white;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(15, 23, 42, 0.95);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: 600;
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .user-profile {
                width: 100%;
                justify-content: center;
            }

            .header-actions {
                width: 100%;
                justify-content: center;
            }

            .level-card {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 20px;
            }

            .medal-container {
                margin: 0 auto;
            }

            .challenge-grid,
            .content-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .comments-dock {
                right: 20px;
                bottom: 20px;
            }

            .comments-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .header,
            .level-section,
            .video-section,
            .challenge-section,
            .content-section,
            .footer {
                padding: 20px;
            }

            .section-title {
                font-size: 18px;
            }

            .medal-container {
                width: 100px;
                height: 100px;
            }

            .medal-container img {
                width: 60px;
                height: 60px;
            }

            .filter-chip {
                padding: 8px 16px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <!-- Background elements -->
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <img src="logo.png" alt="LeaderMath.UZ">
            </div>
            <div class="header-info">
                <h1 class="header-title">LeaderMath.UZ â€” App</h1>
                <p class="header-subtitle">Matematik interaktiv platforma â€¢ Premium tajriba</p>
            </div>
            <div class="user-profile">
                <img src="logo.png" alt="Foydalanuvchi" class="user-avatar" id="userAvatar">
                <div class="user-details">
                    <div class="user-name" id="userName">Foydalanuvchi</div>
                    <div class="user-stats">
                        <div class="user-stat"><i class="fas fa-trophy"></i> <span id="userPoints">0</span></div>
                        <div class="user-stat"><i class="fas fa-coins"></i> <span id="userBalance">0</span></div>
                        <div class="user-stat"><i class="fas fa-birthday-cake"></i> <span id="userAge">â€”</span></div>
                    </div>
                </div>
            </div>
            <div class="header-actions">
                <button class="header-btn" id="btnNotifications" title="Bildirishnomalar">
                    <i class="fas fa-bell"></i>
                </button>
                <button class="header-btn" id="btnLogout" title="Chiqish">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Level Section -->
            <section class="level-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title"><i class="fas fa-medal"></i> Sizning Darajangiz</h2>
                        <p class="section-subtitle">Ball â†’ bosqich â€¢ medallar</p>
                    </div>
                    <button class="rating-btn" id="btnRating">
                        <i class="fas fa-chart-line"></i>
                        <span>Reyting</span>
                    </button>
                </div>
                <div class="level-card">
                    <div class="medal-container">
                        <div class="medal-glow"></div>
                        <img src="logo.png" alt="Medalyon" id="medalImage">
                    </div>
                    <div class="level-info">
                        <div class="level-row">
                            <div class="level-text" id="levelText">Daraja: 1</div>
                            <div class="level-range" id="levelRange">0 â†’ 100 ball</div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" id="levelProgress" style="width: 25%"></div>
                        </div>
                        <div class="level-stats">
                            <div id="currentPoints">25 ball</div>
                            <div id="levelPercentage">25%</div>
                            <div id="nextLevelHint">Keyingi: 75 ball</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Video Banner -->
            <section class="video-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title"><i class="fas fa-video"></i> Yangiliklar</h2>
                        <p class="section-subtitle">Eng so'ngi video yangiliklar</p>
                    </div>
                </div>
                <div class="video-container">
                    <video class="video-element" id="heroVideo" autoplay muted loop playsinline>
                        <source src="videos/banner.mp4" type="video/mp4">
                    </video>
                    <div class="video-controls">
                        <button class="video-btn" id="btnPlayPause">
                            <i class="fas fa-pause"></i>
                        </button>
                        <button class="video-btn" id="btnMute">
                            <i class="fas fa-volume-mute"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Challenge Section -->
            <section class="challenge-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title"><i class="fas fa-bolt"></i> Challengelar</h2>
                        <p class="section-subtitle">Bellashing! Bilimingizni sinab ko'ring!</p>
                    </div>
                </div>
                <div class="challenge-grid" id="challengeGrid">
                    <!-- Challenges will be loaded here -->
                    <div class="loading-text">Challengelar yuklanmoqda...</div>
                </div>
            </section>

            <!-- Content Section -->
            <section class="content-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title"><i class="fas fa-layer-group"></i> Kontentlar</h2>
                        <p class="section-subtitle">Testlar, simulyatorlar va o'quv materiallari</p>
                    </div>
                </div>
                <div class="content-filters" id="contentFilters">
                    <!-- Filters will be loaded here -->
                </div>
                <div class="content-grid" id="contentGrid">
                    <!-- Content will be loaded here -->
                    <div class="loading-text">Kontentlar yuklanmoqda...</div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>LeaderMath.UZ</h3>
                    <p>Matematikadan super interaktiv platforma!</p>
                </div>
                <div class="footer-links">
                    <a href="index.html" class="footer-link">
                        <i class="fas fa-home"></i>
                        <span>Bosh sahifa</span>
                    </a>
                    <button class="footer-link" id="btnInstall">
                        <i class="fas fa-download"></i>
                        <span>O'rnatish</span>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Comments Dock -->
    <div class="comments-dock">
        <button class="comments-btn" id="btnComments">
            <i class="fas fa-comments"></i>
            <span class="comments-badge" id="commentsBadge" style="display: none;">3</span>
        </button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // DOM Elements
        const toastElement = document.getElementById('toast');
        const medalImage = document.getElementById('medalImage');
        const levelText = document.getElementById('levelText');
        const levelRange = document.getElementById('levelRange');
        const levelProgress = document.getElementById('levelProgress');
        const currentPoints = document.getElementById('currentPoints');
        const levelPercentage = document.getElementById('levelPercentage');
        const nextLevelHint = document.getElementById('nextLevelHint');
        const userName = document.getElementById('userName');
        const userPoints = document.getElementById('userPoints');
        const userBalance = document.getElementById('userBalance');
        const userAge = document.getElementById('userAge');
        const userAvatar = document.getElementById('userAvatar');
        const challengeGrid = document.getElementById('challengeGrid');
        const contentFilters = document.getElementById('contentFilters');
        const contentGrid = document.getElementById('contentGrid');
        const heroVideo = document.getElementById('heroVideo');
        const btnPlayPause = document.getElementById('btnPlayPause');
        const btnMute = document.getElementById('btnMute');
        const btnRating = document.getElementById('btnRating');
        const btnNotifications = document.getElementById('btnNotifications');
        const btnLogout = document.getElementById('btnLogout');
        const btnComments = document.getElementById('btnComments');
        const commentsBadge = document.getElementById('commentsBadge');
        const btnInstall = document.getElementById('btnInstall');

        // Show toast message
        function showToast(message, type = 'info') {
            toastElement.textContent = message;
            toastElement.className = 'toast';
            toastElement.classList.add('show');
            
            setTimeout(() => {
                toastElement.classList.remove('show');
            }, 3000);
        }

        // Format time remaining
        function formatTimeRemaining(endTime) {
            const now = Date.now();
            const diff = endTime - now;
            
            if (diff <= 0) return "Tugadi";
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            if (days > 0) return `${days} kun ${hours} soat`;
            if (hours > 0) return `${hours} soat ${minutes} daqiqa`;
            return `${minutes} daqiqa`;
        }

        // Load user data
        function loadUserData() {
            // Simulated user data (in real app, this would come from API)
            const userData = {
                name: "Azizbek",
                points: 1250,
                balance: 500,
                age: "18 yosh",
                level: 5,
                currentPoints: 250,
                nextLevelPoints: 1000,
                totalLevelPoints: 1000
            };

            // Update UI
            userName.textContent = userData.name;
            userPoints.textContent = userData.points;
            userBalance.textContent = userData.balance;
            userAge.textContent = userData.age;
            
            // Update level info
            const progress = (userData.currentPoints / userData.totalLevelPoints) * 100;
            levelText.textContent = `Daraja: ${userData.level}`;
            levelRange.textContent = `${userData.currentPoints} â†’ ${userData.nextLevelPoints} ball`;
            levelProgress.style.width = `${progress}%`;
            currentPoints.textContent = `${userData.currentPoints} ball`;
            levelPercentage.textContent = `${Math.round(progress)}%`;
            nextLevelHint.textContent = `Keyingi: ${userData.nextLevelPoints - userData.currentPoints} ball`;
            
            // Set medal image based on level
            medalImage.src = `medals/${userData.level}.webp`;
            userAvatar.src = `medals/${userData.level}.webp`;
        }

        // Load challenges
        function loadChallenges() {
            // Simulated challenges data
            const challenges = [
                {
                    id: 1,
                    title: "Algebra Challenged",
                    description: "10 ta algebraik masalani yeching",
                    status: "live",
                    endTime: Date.now() + (2 * 24 * 60 * 60 * 1000), // 2 days from now
                    icon: "fa-calculator"
                },
                {
                    id: 2,
                    title: "Geometriya Master",
                    description: "Geometrik shakllarni aniqlang",
                    status: "upcoming",
                    startTime: Date.now() + (1 * 24 * 60 * 60 * 1000), // 1 day from now
                    icon: "fa-shapes"
                },
                {
                    id: 3,
                    title: "Trigonometry Test",
                    description: "Trigonometry asoslarini o'rganing",
                    status: "ended",
                    icon: "fa-chart-pie"
                }
            ];

            challengeGrid.innerHTML = challenges.map(challenge => {
                let statusClass = '';
                let statusText = '';
                let timerText = '';
                
                if (challenge.status === 'live') {
                    statusClass = 'status-live';
                    statusText = 'LIVE';
                    timerText = `Tugashiga: ${formatTimeRemaining(challenge.endTime)}`;
                } else if (challenge.status === 'upcoming') {
                    statusClass = 'status-upcoming';
                    statusText = 'TEZ KUNDA';
                    timerText = `Boshlanishiga: ${formatTimeRemaining(challenge.startTime)}`;
                } else {
                    statusClass = 'status-ended';
                    statusText = 'TUGADI';
                    timerText = 'Yakunlandi';
                }
                
                return `
                    <div class="challenge-card">
                        <div class="challenge-header">
                            <div class="challenge-icon">
                                <i class="fas ${challenge.icon}"></i>
                            </div>
                            <div class="challenge-info">
                                <h3>${challenge.title}</h3>
                                <p>${challenge.description}</p>
                                <span class="challenge-status ${statusClass}">${statusText}</span>
                            </div>
                        </div>
                        <div class="challenge-timer">${timerText}</div>
                        <button class="challenge-action" ${challenge.status !== 'live' ? 'disabled style="opacity: 0.6"' : ''}>
                            ${challenge.status === 'live' ? 'Boshlash â†’' : challenge.status === 'upcoming' ? 'Kutib turing' : 'Yakunlandi'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        // Load content filters and items
        function loadContent() {
            // Simulated filters
            const filters = [
                { id: 'all', name: 'Hammasi', count: 24 },
                { id: 'tests', name: 'Testlar', count: 12 },
                { id: 'simulators', name: 'Simulyatorlar', count: 8 },
                { id: 'games', name: "O'yinlar", count: 4 }
            ];

            // Simulated content items
            const contentItems = [
                {
                    id: 1,
                    title: "Algebra Testi",
                    description: "Algebra asoslarini o'rganing va test orqali bilimingizni sinab ko'ring",
                    type: "tests",
                    tags: ["algebra", "test", "boshlang'ich"],
                    icon: "fa-square-root-alt"
                },
                {
                    id: 2,
                    title: "Geometriya Simulyatori",
                    description: "Geometrik shakllarni interaktiv o'rganing",
                    type: "simulators",
                    tags: ["geometriya", "interaktiv", "3D"],
                    icon: "fa-draw-polygon"
                },
                {
                    id: 3,
                    title: "Hisoblash O'yini",
                    description: "Tez hisoblash ko'nikmalaringizni oshiring",
                    type: "games",
                    tags: ["o'yin", "hisoblash", "tezlik"],
                    icon: "fa-gamepad"
                },
                {
                    id: 4,
                    title: "Trigonometriya Testi",
                    description: "Trigonometrik funktsiyalar va formulalar",
                    type: "tests",
                    tags: ["trigonometriya", "formula", "test"],
                    icon: "fa-chart-line"
                }
            ];

            // Render filters
            contentFilters.innerHTML = filters.map(filter => `
                <button class="filter-chip ${filter.id === 'all' ? 'active' : ''}" data-filter="${filter.id}">
                    ${filter.name} (${filter.count})
                </button>
            `).join('');

            // Render content items
            contentGrid.innerHTML = contentItems.map(item => `
                <div class="content-card">
                    <div class="content-icon">
                        <i class="fas ${item.icon}"></i>
                    </div>
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    <div class="content-tags">
                        ${item.tags.map(tag => `<span class="content-tag">${tag}</span>`).join('')}
                    </div>
                    <button class="content-action">
                        <i class="fas fa-external-link-alt"></i>
                        <span>Ochish</span>
                    </button>
                </div>
            `).join('');

            // Add filter click handlers
            document.querySelectorAll('.filter-chip').forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    document.querySelectorAll('.filter-chip').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Filter content (in real app, this would filter the actual content)
                    const filter = this.dataset.filter;
                    showToast(`${filter === 'all' ? 'Hamma' : filter} kontentlari ko'rsatilmoqda`);
                });
            });

            // Add content card click handlers
            document.querySelectorAll('.content-action').forEach((button, index) => {
                button.addEventListener('click', function() {
                    const item = contentItems[index];
                    showToast(`"${item.title}" ochilmoqda...`);
                    // In real app, this would navigate to the content
                });
            });
        }

        // Video controls
        function setupVideoControls() {
            let isPlaying = true;
            let isMuted = true;

            btnPlayPause.addEventListener('click', function() {
                if (isPlaying) {
                    heroVideo.pause();
                    this.innerHTML = '<i class="fas fa-play"></i>';
                } else {
                    heroVideo.play();
                    this.innerHTML = '<i class="fas fa-pause"></i>';
                }
                isPlaying = !isPlaying;
            });

            btnMute.addEventListener('click', function() {
                if (isMuted) {
                    heroVideo.muted = false;
                    this.innerHTML = '<i class="fas fa-volume-up"></i>';
                } else {
                    heroVideo.muted = true;
                    this.innerHTML = '<i class="fas fa-volume-mute"></i>';
                }
                isMuted = !isMuted;
            });

            // Autoplay with sound muted
            heroVideo.muted = true;
            heroVideo.play().catch(e => {
                console.log("Autoplay blocked:", e);
            });
        }

        // Button event handlers
        function setupEventHandlers() {
            // Rating button
            btnRating.addEventListener('click', function() {
                showToast("Reyting jadvali ochilmoqda...");
                // In real app, this would open rating modal
            });

            // Notifications button
            btnNotifications.addEventListener('click', function() {
                showToast("Bildirishnomalar ochilmoqda...");
                // In real app, this would open notifications modal
            });

            // Logout button
            btnLogout.addEventListener('click', function() {
                if (confirm("Rostdan tizimdan chiqmoqchimisiz?")) {
                    localStorage.removeItem('lm_token');
                    showToast("Chiqildi. Yangi sahifaga yo'naltirilmoqda...");
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1000);
                }
            });

            // Comments button
            btnComments.addEventListener('click', function() {
                showToast("Izohlar paneli ochilmoqda...");
                // In real app, this would open comments modal
                // Hide badge when comments are opened
                commentsBadge.style.display = 'none';
            });

            // Install button
            btnInstall.addEventListener('click', function() {
                showToast("Ilova o'rnatish boshlanmoqda...");
                // In real app, this would trigger PWA install
            });

            // Add some sample badge to comments button
            setTimeout(() => {
                commentsBadge.textContent = '3';
                commentsBadge.style.display = 'flex';
            }, 2000);
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            loadChallenges();
            loadContent();
            setupVideoControls();
            setupEventHandlers();
            
            showToast("LeaderMath.UZ ga xush kelibsiz! ðŸŽ‰");
            
            // Update timers every minute
            setInterval(() => {
                // In real app, this would update challenge timers
            }, 60000);
        });

        // Handle challenge clicks
        challengeGrid.addEventListener('click', function(e) {
            if (e.target.classList.contains('challenge-action')) {
                const card = e.target.closest('.challenge-card');
                const title = card.querySelector('h3').textContent;
                const isDisabled = e.target.disabled;
                
                if (!isDisabled) {
                    showToast(`"${title}" challenge boshlanmoqda...`);
                    // In real app, this would start the challenge
                }
            }
        });
    </script>
</body>
</html>