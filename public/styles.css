/* OrzuMall.uz â€” Worldclass UI (SuperPro)
   Notes: Pure CSS (no build step). Keeps existing DOM + IDs used by app.js.
*/
:root{
  --bg0:#f6f8fb;
  --bg1:#eef3f7;
  --card:#ffffffcc;
  --cardSolid:#ffffff;
  --text:#0b1220;
  --muted:#5c6b82;
  --muted2:#8a97ab;
  --stroke:#e6edf5;
  --stroke2:#d7e2ee;

  --primary:#2E8B57;      /* brand green */
  --primary2:#2aa86a;
  --gold:#D4AF37;
  --danger:#e24a4a;

  --shadow: 0 18px 40px rgba(14, 24, 39, .08);
  --shadow2: 0 10px 24px rgba(14, 24, 39, .10);
  --shadow3: 0 4px 10px rgba(14, 24, 39, .10);

  --r-xl: 28px;
  --r-lg: 22px;
  --r-md: 16px;
  --r-sm: 12px;

  --container: 1180px;

  --ring: 0 0 0 4px rgba(46,139,87,.16);
  --ringGold: 0 0 0 4px rgba(212,175,55,.22);

  --ease: cubic-bezier(.2,.8,.2,1);
}

/* Ensure native [hidden] attribute always works (prevents modals from being stuck open) */
[hidden]{
  display: none !important;
}

/* Extra safety for overlays */
.modalOverlay[hidden]{
  display: none !important;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  color:var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  background:
    radial-gradient(1200px 700px at 15% 0%, rgba(46,139,87,.13), transparent 60%),
    radial-gradient(900px 600px at 95% 15%, rgba(212,175,55,.12), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overflow-x:hidden;
}

a{ color:inherit; }
button, input, select, textarea{ font:inherit; color:inherit; }
img{ max-width:100%; display:block; }

::selection{ background:rgba(46,139,87,.18); }

@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
}

/* --- Topbar --- */
.topbar{
  position:sticky; top:0; z-index:20;
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  padding: 14px 16px;
  gap: 12px;
  background: rgba(255,255,255,.65);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--stroke);
}

.userboxLeft{ justify-self:start; }
.brandCenter{ justify-self:center; }
.actionsRight{ justify-self:end; display:flex; gap:10px; align-items:center; }

.logoImg{
  height: clamp(34px, 3.2vw, 54px);
  width:auto;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
}

.avatarBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:48px; height:48px;
  border-radius: 16px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.75);
  box-shadow: var(--shadow3);
  cursor:pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
}
.avatarBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.avatarBtn:active{ transform: translateY(0); }
.avatarBtn:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ring); }

.avatar{
  width: 38px; height: 38px;
  border-radius: 14px;
  object-fit:cover;
  display:none;
}
.avatarFallback{
  width:38px; height:38px;
  border-radius:14px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(135deg, rgba(46,139,87,.16), rgba(212,175,55,.14));
  color: var(--text);
  font-weight: 800;
  letter-spacing: .2px;
}

.iconBtn{
  position:relative;
  display:inline-flex; align-items:center; gap:10px;
  padding: 10px 12px;
  border-radius: 999px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.75);
  box-shadow: var(--shadow3);
  cursor:pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
}
.iconBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.iconBtn:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ring); }
.chipCount{
  min-width: 22px;
  height: 22px;
  padding: 0 7px;
  border-radius: 999px;
  display:inline-flex; align-items:center; justify-content:center;
  font-size: 12px;
  font-weight: 800;
  background: rgba(46,139,87,.12);
  border: 1px solid rgba(46,139,87,.20);
}

/* --- Layout --- */
.container{
  max-width: var(--container);
  margin: 18px auto 60px;
  padding: 0 16px;
}

.card{
  background: var(--card);
  backdrop-filter: blur(14px);
  border: 1px solid var(--stroke);
  border-radius: var(--r-xl);
  box-shadow: var(--shadow);
}

.authOnly{ margin-top: 10px; }
.searchCard{ margin: 16px 0; }

.card h2{
  margin:0 0 10px 0;
  font-size: clamp(18px, 2.2vw, 22px);
  letter-spacing: -0.02em;
}
.card h3{
  margin:0 0 8px 0;
  font-size: 16px;
  letter-spacing: -0.01em;
}
.muted{ color:var(--muted); }

/* --- Auth --- */
#authCard{
  padding: 18px;
}
.authGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.authCol{
  padding: 16px;
  border-radius: var(--r-lg);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.70);
}
#tgWidgetWrap{ margin-top: 10px; }
.hint{ margin-top: 10px; color: var(--muted); }
.notice{
  margin-top: 10px;
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px solid rgba(226,74,74,.22);
  background: rgba(226,74,74,.08);
  color: #7a1c1c;
}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  height: 44px;
  padding: 0 16px;
  border-radius: 14px;
  border: 1px solid rgba(46,139,87,.25);
  background: linear-gradient(180deg, rgba(46,139,87,.12), rgba(46,139,87,.06));
  box-shadow: var(--shadow3);
  cursor:pointer;
  font-weight: 700;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.btn:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ring); }

/* --- Search --- */
.searchCard{
  padding: 14px 16px;
}
.searchRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 14px;
  flex-wrap:wrap;
}
.searchTitle{
  font-weight: 900;
  letter-spacing: -0.02em;
}
.toolsTop{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.input, .select, textarea{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.85);
  border-radius: 14px;
  padding: 10px 12px;
  outline:none;
  transition: box-shadow .18s var(--ease), border-color .18s var(--ease), transform .18s var(--ease);
}
.input{ min-width: min(520px, 70vw); }
.select{ min-width: 160px; }
.input:focus, .select:focus, textarea:focus{ border-color: rgba(46,139,87,.38); box-shadow: var(--ring); }

/* --- Products --- */
.productsCard{
  padding: 16px;
}
.row{
  display:flex; align-items:flex-end; justify-content:space-between; gap:14px;
  flex-wrap:wrap;
  margin-bottom: 10px;
}
.tagBar{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.tagChip{
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.82);
  border-radius: 999px;
  padding: 8px 12px;
  cursor:pointer;
  font-weight: 700;
  color: var(--muted);
  box-shadow: var(--shadow3);
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease), background .18s var(--ease);
}
.tagChip .count{
  margin-left: 8px;
  font-size: 12px;
  padding: 2px 7px;
  border-radius: 999px;
  border: 1px solid rgba(46,139,87,.20);
  background: rgba(46,139,87,.10);
  color: var(--text);
}
.tagChip:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.tagChip.active{
  color: var(--text);
  border-color: rgba(46,139,87,.35);
  background: linear-gradient(180deg, rgba(46,139,87,.12), rgba(46,139,87,.06));
}
@media (min-width: 980px){
  /* desktop: tags wrap, no horizontal scroll (keeps prior requirement) */
  .tagBar{ overflow: visible; }
}

.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 14px;
  margin-top: 12px;
}
.empty{
  margin-top: 16px;
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed var(--stroke2);
  color: var(--muted);
  background: rgba(255,255,255,.7);
}

/* --- Product Card (generated in JS) --- */
.pcard{
  border-radius: var(--r-xl);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.86);
  box-shadow: var(--shadow);
  overflow:hidden;
  cursor:pointer;
  transition: transform .22s var(--ease), box-shadow .22s var(--ease), border-color .22s var(--ease);
  position:relative;
}
.pcard:hover{
  transform: translateY(-3px);
  box-shadow: 0 26px 55px rgba(14,24,39,.12);
  border-color: rgba(46,139,87,.22);
}
.pmedia{
  position:relative;
  aspect-ratio: 1/1;
  background:
    radial-gradient(600px 420px at 25% 20%, rgba(46,139,87,.10), transparent 55%),
    radial-gradient(520px 380px at 90% 10%, rgba(212,175,55,.10), transparent 55%),
    #fff;
}
.pimg{
  width:100%; height:100%;
  object-fit: contain;
  padding: 10px;
  transform: translateZ(0);
  transition: transform .25s var(--ease);
}
.pcard:hover .pimg{ transform: scale(1.04); }

.pbadge{
  position:absolute; left: 12px; top: 12px;
  padding: 7px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  background: rgba(212,175,55,.16);
  border: 1px solid rgba(212,175,55,.30);
  color: #5b4510;
  backdrop-filter: blur(10px);
}

.favBtn{
  position:absolute; right: 10px; top: 10px;
  width: 40px; height: 40px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  box-shadow: var(--shadow3);
  cursor:pointer;
  font-size: 18px;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
}
.favBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.favBtn.active{
  border-color: rgba(226,74,74,.25);
  background: rgba(226,74,74,.10);
}
.favBtn:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ringGold); }

.pbody{ padding: 12px 12px 14px; }
.ppriceRow{ display:flex; align-items:baseline; gap:10px; }
.ppriceNow{
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
}
.ppriceOld{
  font-size: 13px;
  color: var(--muted2);
  text-decoration: line-through;
}
.pinstall{
  margin-top: 6px;
  color: var(--muted);
  font-size: 12px;
}
.pname{
  margin-top: 10px;
  font-weight: 800;
  letter-spacing: -0.02em;
}
.clamp2{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.pactions{
  margin-top: 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.pratingInline{
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
  display:flex;
  align-items:center;
  gap:6px;
}
.pratingInline span{ color: var(--muted2); font-weight: 800; }

.iconPill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 46px; height: 40px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.78);
  box-shadow: var(--shadow3);
  cursor:pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s var(--ease);
}
.iconPill:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.iconPill.primary{
  border-color: rgba(46,139,87,.30);
  background: linear-gradient(180deg, rgba(46,139,87,.13), rgba(46,139,87,.05));
}
.iconPill:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ring); }

/* --- Options chips (colors/sizes) used in some views --- */
.optStack{ display:flex; flex-direction:column; gap:10px; }
.optLine{ display:flex; gap:8px; flex-wrap:wrap; }
.swatch{
  width: 26px; height: 26px;
  border-radius: 999px;
  border: 2px solid rgba(15, 23, 42, .08);
  background: var(--c, #ddd);
  cursor:pointer;
  box-shadow: 0 6px 14px rgba(14,24,39,.10);
  transition: transform .16s var(--ease), box-shadow .16s var(--ease), border-color .16s var(--ease);
}
.swatch:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(14,24,39,.12); }
.swatch.active{ border-color: rgba(46,139,87,.55); box-shadow: 0 0 0 4px rgba(46,139,87,.16), 0 10px 20px rgba(14,24,39,.12); }

.sizeChip{
  height: 32px;
  padding: 0 12px;
  border-radius: 999px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.82);
  cursor:pointer;
  font-weight: 800;
  color: var(--muted);
  transition: transform .16s var(--ease), box-shadow .16s var(--ease), border-color .16s var(--ease);
}
.sizeChip:hover{ transform: translateY(-1px); box-shadow: var(--shadow3); }
.sizeChip.active{
  color: var(--text);
  border-color: rgba(46,139,87,.35);
  box-shadow: var(--ring);
}

/* --- Overlays & panels (cart/favs) --- */
.overlay{
  position:fixed; inset:0;
  background: rgba(10, 16, 28, .32);
  backdrop-filter: blur(6px);
  z-index: 40;
}
.sidePanel{
  position:fixed;
  right: 14px;
  top: 14px;
  bottom: 14px;
  width: min(420px, calc(100vw - 28px));
  background: rgba(255,255,255,.86);
  border: 1px solid var(--stroke);
  border-radius: var(--r-xl);
  box-shadow: 0 40px 90px rgba(14,24,39,.22);
  z-index: 41;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  transform: translateX(18px);
  animation: panelIn .22s var(--ease) forwards;
}
@keyframes panelIn{
  from{ opacity:0; transform: translateX(30px); }
  to{ opacity:1; transform: translateX(0); }
}
.panelTop{
  padding: 14px 14px 10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(255,255,255,.70);
}
.panelTitle{
  font-weight: 900;
  letter-spacing: -0.02em;
}
.panelClose{
  width: 40px; height: 40px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.78);
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.panelClose:hover{ box-shadow: var(--shadow2); transform: translateY(-1px); }
.panelBody{
  padding: 14px;
  overflow:auto;
}
.panelEmpty{
  color: var(--muted);
  padding: 14px;
  border:1px dashed var(--stroke2);
  border-radius: 16px;
  background: rgba(255,255,255,.7);
}
.panelItem{
  display:grid;
  grid-template-columns: 64px 1fr auto;
  gap: 12px;
  align-items:center;
  padding: 10px;
  border: 1px solid var(--stroke);
  border-radius: 18px;
  background: rgba(255,255,255,.78);
  box-shadow: var(--shadow3);
  margin-bottom: 10px;
}
.panelItemImg{
  width: 64px; height: 64px;
  border-radius: 16px;
  border:1px solid var(--stroke);
  background:#fff;
  object-fit: contain;
  padding: 6px;
}
.panelItemName{ font-weight: 900; letter-spacing: -0.02em; }
.panelItemMeta{ color: var(--muted); font-size: 12px; font-weight: 700; margin-top: 2px; }
.qtyRow{ display:flex; align-items:center; gap: 8px; justify-content:flex-end; }
.qtyBtn{
  width: 34px; height: 34px;
  border-radius: 12px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.qtyBtn:hover{ box-shadow: var(--shadow2); transform: translateY(-1px); }
.qtyVal{ min-width: 26px; text-align:center; font-weight: 900; }

.panelBottom{
  padding: 12px 14px;
  border-top: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.totalLine{ font-weight: 900; }
.bottomBtns{ display:flex; gap:10px; }
.pillBtn{
  height: 42px;
  padding: 0 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
  font-weight: 900;
}
.pillBtn.primary{
  border-color: rgba(46,139,87,.30);
  background: linear-gradient(180deg, rgba(46,139,87,.16), rgba(46,139,87,.07));
}
.pillBtn.danger{
  border-color: rgba(226,74,74,.25);
  background: rgba(226,74,74,.10);
}
.pillBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.pillBtn:focus-visible{ outline:none; box-shadow: var(--shadow2), var(--ring); }

/* --- Quick view / image viewer shared classes --- */
.imgViewer{
  position:fixed; inset:0;
  z-index: 60;
}
.imgViewerBackdrop{
  position:absolute; inset:0;
  background: rgba(10, 16, 28, .40);
  backdrop-filter: blur(8px);
}
.qvShell{
  position:relative;
  width: min(980px, calc(100vw - 28px));
  max-height: calc(100vh - 28px);
  margin: 14px auto;
  border-radius: var(--r-xl);
  border: 1px solid rgba(255,255,255,.30);
  background: rgba(255,255,255,.88);
  box-shadow: 0 60px 120px rgba(0,0,0,.28);
  overflow:hidden;
  animation: popIn .22s var(--ease) both;
}
@keyframes popIn{
  from{ opacity:0; transform: translateY(10px) scale(.98); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}
.qvClose{
  position:absolute; right: 12px; top: 12px;
  width: 44px; height: 44px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
  z-index: 2;
}
.qvClose:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }

.qvGrid{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  min-height: min(680px, calc(100vh - 28px));
}
.qvMedia{
  background:
    radial-gradient(800px 520px at 10% 10%, rgba(46,139,87,.10), transparent 55%),
    radial-gradient(700px 480px at 90% 20%, rgba(212,175,55,.10), transparent 55%),
    #fff;
  border-right: 1px solid var(--stroke);
  display:flex;
  flex-direction:column;
}
.qvStage{
  position:relative;
  aspect-ratio: 1/1;
  padding: 12px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.qvImg{
  width:100%; height:100%;
  object-fit: contain;
}
.navBtn{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 44px; height: 44px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.86);
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.navPrev{ left: 10px; }
.navNext{ right: 10px; }
.navBtn:hover{ box-shadow: var(--shadow2); transform: translateY(-50%) translateY(-1px); }

.thumbRow{
  display:flex;
  gap: 10px;
  padding: 12px;
  overflow:auto;
  border-top: 1px solid var(--stroke);
  background: rgba(255,255,255,.70);
}
.qvThumb{
  width: 68px; height: 68px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background:#fff;
  object-fit:contain;
  padding: 6px;
  cursor:pointer;
  box-shadow: var(--shadow3);
  transition: transform .16s var(--ease), box-shadow .16s var(--ease), border-color .16s var(--ease);
}
.qvThumb:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.qvThumb.active{ border-color: rgba(46,139,87,.45); box-shadow: var(--shadow2), var(--ring); }

.qvPanel{
  padding: 16px 16px 12px;
  overflow:auto;
}
.qvTitle{
  font-weight: 900;
  font-size: clamp(18px, 2.2vw, 22px);
  letter-spacing: -0.02em;
}
.qvPriceRow{ display:flex; gap:10px; align-items:baseline; margin-top: 10px; flex-wrap:wrap; }
.qvPrice{
  font-size: 22px;
  font-weight: 900;
}
.qvOldPrice{
  color: var(--muted2);
  text-decoration: line-through;
  font-weight: 800;
}
.qvBadge{
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  background: rgba(212,175,55,.16);
  border: 1px solid rgba(212,175,55,.30);
  color: #5b4510;
}
.qvMetaRow{ display:flex; gap:10px; align-items:center; margin-top: 10px; flex-wrap:wrap; }
.qvRating, .qvTags{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  font-weight: 800;
  color: var(--muted);
}
.qvDesc{
  margin-top: 14px;
  color: var(--muted);
  line-height: 1.6;
}
.qvActions{
  margin-top: 16px;
  display:flex; gap: 10px; align-items:center;
}
.qvCartBtn{
  width: 100%;
  height: 48px;
  border-radius: 16px;
  border: 1px solid rgba(46,139,87,.30);
  background: linear-gradient(180deg, rgba(46,139,87,.18), rgba(46,139,87,.08));
  box-shadow: var(--shadow3);
  cursor:pointer;
  display:flex; gap: 10px; align-items:center; justify-content:center;
  font-weight: 900;
}
.qvCartBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.qvCartIcon{ font-size: 18px; }

/* --- Reviews --- */
.imgViewerReviews{ margin-top: 14px; }
.revTop{ display:flex; align-items:center; justify-content:space-between; gap: 10px; }
.revTitle{ font-weight: 900; }
.revCount{ color: var(--muted); font-weight: 800; }
.revStars{ display:flex; gap: 6px; margin-top: 10px; }
.starBtn{
  width: 40px; height: 40px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.starBtn.active{ border-color: rgba(212,175,55,.45); box-shadow: var(--ringGold); }
.revTextArea{
  width:100%;
  min-height: 88px;
  margin-top: 10px;
  resize: vertical;
}
.revActions{ display:flex; gap: 10px; margin-top: 10px; flex-wrap:wrap; }
.revBtn{
  height: 42px;
  padding: 0 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
  font-weight: 900;
}
.revBtn.primary{
  border-color: rgba(46,139,87,.30);
  background: linear-gradient(180deg, rgba(46,139,87,.16), rgba(46,139,87,.07));
}
.revList{ margin-top: 12px; display:flex; flex-direction:column; gap: 10px; }
.revItem{
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: 12px;
  background: rgba(255,255,255,.82);
  box-shadow: var(--shadow3);
}
.revHead{ display:flex; align-items:center; justify-content:space-between; gap: 10px; }
.revAuthor{ font-weight: 900; }
.revMeta{ color: var(--muted2); font-weight: 800; font-size: 12px; display:flex; gap: 10px; align-items:center;}
.revItemText{ color: var(--muted); line-height: 1.6; margin-top: 8px; }
.revItemImgs{ margin-top: 10px; display:flex; gap: 10px; flex-wrap:wrap; }
.revItemImg{
  width: 74px; height: 74px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background:#fff;
  overflow:hidden;
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.revItemImg img{ width:100%; height:100%; object-fit:cover; }

/* --- Profile modal --- */
.profileOverlay{
  position:fixed; inset:0;
  background: rgba(10, 16, 28, .40);
  backdrop-filter: blur(8px);
  z-index: 70;
}
.profileModal{
  position:fixed;
  z-index: 71;
  inset: 14px 0 auto 0;
  margin: 0 auto;
  width: min(860px, calc(100vw - 28px));
  background: rgba(255,255,255,.90);
  border: 1px solid rgba(255,255,255,.30);
  border-radius: var(--r-xl);
  box-shadow: 0 60px 120px rgba(0,0,0,.28);
  overflow:hidden;
  animation: popIn .22s var(--ease) both;
}
.profileTop{
  padding: 14px 16px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
}
.profileTitle{ font-weight: 900; letter-spacing: -0.02em; }
.profileClose{
  width: 44px; height: 44px;
  border-radius: 16px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
}
.profileBody{
  padding: 16px;
  display:grid;
  grid-template-columns: 280px 1fr;
  gap: 14px;
}
.profileCard{
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.80);
  border-radius: 22px;
  padding: 14px;
  box-shadow: var(--shadow3);
}
.profileAvatar{
  width: 92px; height: 92px;
  border-radius: 26px;
  border: 1px solid var(--stroke);
  background:#fff;
  object-fit:cover;
  padding: 6px;
}
.profileName{ margin-top: 10px; font-weight: 900; font-size: 18px; letter-spacing: -0.02em; }
.profileUid{ color: var(--muted); font-weight: 800; font-size: 12px; margin-top: 4px; }
.profileActions{ display:flex; gap: 10px; flex-wrap:wrap; margin-top: 12px; }
.profileBtn{
  height: 42px;
  padding: 0 14px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  box-shadow: var(--shadow3);
  font-weight: 900;
}
.profileBtn.primary{
  border-color: rgba(46,139,87,.30);
  background: linear-gradient(180deg, rgba(46,139,87,.16), rgba(46,139,87,.07));
}
.profileBtn.danger{
  border-color: rgba(226,74,74,.25);
  background: rgba(226,74,74,.10);
}
.formGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.field label{
  display:block;
  font-weight: 900;
  font-size: 12px;
  color: var(--muted);
  margin: 0 0 6px 2px;
}
.field .input, .field .select{
  width:100%;
}
@media (max-width: 860px){
  .authGrid{ grid-template-columns: 1fr; }
  .qvGrid{ grid-template-columns: 1fr; }
  .qvMedia{ border-right:0; border-bottom: 1px solid var(--stroke); }
  .profileBody{ grid-template-columns: 1fr; }
  .formGrid{ grid-template-columns: 1fr; }
  .input{ min-width: 0; width: min(520px, 100%); }
}

/* --- Small polish --- */
code{
  padding: 2px 7px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.75);
  font-weight: 800;
  font-size: .92em;
}

/* Compatibility styles for existing markup (variant modal, cart rows, modalCard) */
body.modalOpen{ overflow:hidden; }

.overlay{ opacity:0; transition: opacity .22s var(--ease); }
.overlay.open{ opacity:1; }

.sidePanel{ opacity:0; transform: translateX(18px); transition: opacity .22s var(--ease), transform .22s var(--ease); animation:none; }
.sidePanel.open{ opacity:1; transform: translateX(0); }

.cartItem{ display:grid; grid-template-columns: 64px 1fr; gap: 12px; align-items:start;
  padding: 10px; border:1px solid var(--stroke); border-radius: 18px; background: rgba(255,255,255,.80);
  box-shadow: var(--shadow3); margin-bottom: 10px;
}
.cartImg{ width:64px; height:64px; border-radius:16px; border:1px solid var(--stroke); background:#fff; object-fit:contain; padding:6px; }
.cartTitle{ font-weight: 900; letter-spacing:-0.02em; }
.cartMeta .price{ font-weight: 900; }
.cartRow{ display:flex; align-items:center; justify-content:space-between; gap: 10px; margin-top: 8px; }
.removeBtn{
  width: 40px; height: 40px; border-radius: 14px;
  border:1px solid var(--stroke); background: rgba(255,255,255,.85); cursor:pointer; box-shadow: var(--shadow3);
}
.removeBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }

.badge{
  padding: 7px 10px; border-radius: 999px; border:1px solid var(--stroke);
  background: rgba(255,255,255,.78); font-weight: 900; color: var(--muted);
}
.qty{ display:flex; align-items:center; gap: 8px; }
.qty button{
  width: 34px; height: 34px; border-radius: 12px;
  border:1px solid var(--stroke); background: rgba(255,255,255,.85); cursor:pointer; box-shadow: var(--shadow3);
}
.qty button:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.qty span{ min-width: 24px; text-align:center; font-weight: 900; }

.pBtn{
  height: 40px; border-radius: 14px; border:1px solid var(--stroke); background: rgba(255,255,255,.85);
  cursor:pointer; box-shadow: var(--shadow3); font-weight: 900; padding: 0 12px;
}
.pBtn.iconOnly{ width: 44px; padding: 0; display:inline-flex; align-items:center; justify-content:center; }
.pBtn:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }

/* Modal overlay / card used by profile + variant select */
.modalOverlay{
  position:fixed; inset:0; z-index:70;
  background: rgba(10, 16, 28, .40);
  backdrop-filter: blur(8px);
  display:flex; align-items:flex-start; justify-content:center;
  padding: 14px;
}
.modalCard{
  width: min(860px, 100%);
  background: rgba(255,255,255,.90);
  border: 1px solid rgba(255,255,255,.30);
  border-radius: var(--r-xl);
  box-shadow: 0 60px 120px rgba(0,0,0,.28);
  overflow:hidden;
  animation: popIn .22s var(--ease) both;
}
.modalTop{
  padding: 14px 16px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
}
.modalTitle{ font-weight: 900; letter-spacing:-0.02em; }
.modalTopActions{ display:flex; gap:10px; align-items:center; }
.modalBody{ padding: 16px; }
.modalBottom{
  padding: 12px 16px;
  border-top: 1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  display:flex; gap: 10px; justify-content:flex-end; flex-wrap:wrap;
}
.btn.ghost{
  border-color: var(--stroke);
  background: rgba(255,255,255,.85);
}

.profileHead{ display:flex; gap: 12px; align-items:center; margin-bottom: 14px; }
#profileAvatar{
  width: 76px; height: 76px; border-radius: 22px; border: 1px solid var(--stroke);
  background: radial-gradient(140px 120px at 30% 20%, rgba(46,139,87,.14), transparent 60%),
              radial-gradient(120px 110px at 85% 10%, rgba(212,175,55,.14), transparent 60%),
              rgba(255,255,255,.80);
  display:flex; align-items:center; justify-content:center;
  font-weight: 900;
}
.profileMeta{ min-width:0; }
#profileName{ font-weight: 900; font-size: 18px; letter-spacing:-0.02em; }
#profileUid{ color: var(--muted); font-weight: 800; font-size: 12px; margin-top: 4px; }

.field{
  display:flex; flex-direction:column; gap: 6px;
  padding: 10px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.78);
  border-radius: 18px;
  box-shadow: var(--shadow3);
}
.field > span{ font-weight: 900; font-size: 12px; color: var(--muted); margin-left: 2px; }
.field input, .field select{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.90);
  border-radius: 14px;
  padding: 10px 12px;
}

.vModal #vName{ font-weight: 900; }
.vSwatch{
  width: 30px; height: 30px; border-radius: 999px;
  border: 2px solid rgba(15, 23, 42, .08);
  cursor:pointer;
  box-shadow: 0 8px 18px rgba(14,24,39,.10);
}
.vSwatch.active{ border-color: rgba(46,139,87,.55); box-shadow: var(--ring); }
.vChip{
  height: 34px; padding: 0 12px; border-radius: 999px;
  border:1px solid var(--stroke); background: rgba(255,255,255,.82);
  cursor:pointer; font-weight: 900; color: var(--muted);
}
.vChip.active{ border-color: rgba(46,139,87,.35); box-shadow: var(--ring); color: var(--text); }

/* Reviews controls used by app.js */
.revStars button{
  width: 40px; height: 40px; border-radius: 16px;
  border: 1px solid var(--stroke); background: rgba(255,255,255,.85);
  cursor:pointer; box-shadow: var(--shadow3);
}
.revStars button:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
.revStars button.active{ border-color: rgba(212,175,55,.45); box-shadow: var(--ringGold); }

#revText{
  width:100%;
  min-height: 88px;
  margin-top: 10px;
  resize: vertical;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,.90);
  border-radius: 14px;
  padding: 10px 12px;
}

/* Mobile breathing room */
@media (max-width: 520px){
  .iconBtn{ padding: 10px 10px; gap: 8px; }
  .chipCount{ min-width: 20px; height: 20px; }
  .productsCard{ padding: 14px; }
  .grid{ gap: 12px; }
}
