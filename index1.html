
<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>XplusY.uz — Zamonaviy hisob-kitob</title>
  <link rel="stylesheet" href="./assets/css/style.css"/>
</head>
<body data-page="index">
  <div id="km-header"></div>
  <main class="container">
    <section class="hero">
      <h1><span class="grad">XplusY</span> — tez, qulay, zamonaviy o‘rganish</h1>
      <p>Onlayn mashqlar, musobaqalar va simulyatorlar. ID, ball va balans tizimi bilan shaxsiy progress.</p>
      <div class="hero-cta">
        <a href="./namuna.html" class="btn btn-primary">Boshlash</a>
        <a href="./profile.html" class="btn btn-ghost">Profil</a>
      </div>
    </section>

    <section class="card">
      <div class="h-banner-carousel" id="adsCarousel" aria-label="Reklama karuseli"></div>
    </section>

    <section class="card" style="margin-top:16px;">
      <h2 style="margin:8px 0 16px;">Tanlov bannerlari</h2>
      <div class="banner-grid-vertical" id="verticalGrid"></div>
    </section>
	
<iframe src="banner/banner5.html" width="100%" height="650" style="border:none;"></iframe>

    <section class="card" style="margin-top:16px;">
      <h2 style="margin-top:0">Motivatsion shior</h2>
      <p class="small">“Har kuni 1 qadam — 365 kunda yangi cho‘qqi.”</p>
    </section>
  </main>
  <div id="km-footer"></div>

  <div id="assistiveTouch" title="XplusY menyu"></div>
  <div id="assistiveMenu">
    <a class="btn" href="./index.html">Asosiy</a>
    <a class="btn" href="./profile.html">Profil</a>
    <a class="btn" href="./namuna.html">Namuna</a>
  </div>

  <script type="module" src="./assets/js/firebase.js"></script>
  <script type="module" src="./assets/js/main.js"></script>

  <script type="module">
    import { resolve } from './assets/js/include.js';
    import { initCarousel } from './assets/js/ui.js';

    async function loadFragment(url){ const r=await fetch(resolve(url),{cache:'no-store'}); if(!r.ok) throw new Error(url+' yuklanmadi'); return await r.text(); }

    // Ads carousel (400px) — HTML fragmentlar
    const adsFiles=['ads/ads1.html','ads/ads2.html','ads/ads3.html'];
    for (let i=0;i<adsFiles.length;i++){
      try{
        const html = await loadFragment(adsFiles[i]);
        const slide = document.createElement('div');
        slide.className = 'h-slide'+(i===0?' active':'');
        slide.innerHTML = html;
        document.getElementById('adsCarousel').appendChild(slide);
      }catch(e){ console.error(e); }
    }
    initCarousel();

    // 4 ta vertikal banner (600px) — HTML fragmentlar
    const vFiles=['banner/banner1.html','banner/banner2.html','banner/banner3.html','banner/banner4.html'];
    for (const f of vFiles){
      try{
        const html = await loadFragment(f);
        const holder = document.createElement('div');
        holder.innerHTML = html;
        const first = holder.firstElementChild;
        if (first) document.getElementById('verticalGrid').appendChild(first);
      }catch(e){ console.error(e); }
    }
  </script>
</body>
</html>
