:root{
  --bg: #0b1210;
  --bg-2: #101a17;
  --bg-3: #0e1714;
  --card: #12211b;
  --muted: #9ab6a8;
  --txt: #eaf5ef;
  --brand: #34d399; /* green-400 */
  --brand-2:#10b981; /* green-500 */
  --accent: #22d3ee; /* cyan-400 */
  --danger: #ef4444;
  --warn: #f59e0b;
  --ok: #22c55e;
  --shadow: 0 10px 25px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--txt);
  background: radial-gradient(1200px 600px at 10% -10%, rgba(16,185,129,.15), transparent 60%),
              radial-gradient(1000px 400px at 110% -20%, rgba(52,211,153,.12), transparent 60%),
              var(--bg);
  overflow-x:hidden;
}

/* Header */
.site-header{
  position:sticky; top:0; z-index:60;
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:12px 16px;
  background:linear-gradient(180deg, rgba(18,33,27,.9), rgba(16,26,23,.85));
  backdrop-filter: blur(8px);
  border-bottom:1px solid rgba(255,255,255,.06);
  box-shadow: var(--shadow);
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700}
.brand.small .logo{width:26px; height:26px; border-radius:8px}
.logo{
  width:32px; height:32px; display:grid; place-items:center;
  background: radial-gradient(circle at 30% 20%, var(--brand), var(--brand-2));
  color:#002714; border-radius:10px; font-weight:900;
  text-shadow: 0 1px 0 rgba(255,255,255,.3);
  transform: translateZ(0);
  box-shadow: 0 8px 20px rgba(16,185,129,.35), inset 0 -2px 6px rgba(0,0,0,.35);
}
.title{font-size:18px; letter-spacing:.3px}

.site-nav{display:flex; gap:10px; flex-wrap:wrap}
.nav-link{
  padding:8px 12px; border-radius:10px; text-decoration:none; color:var(--txt);
  border:1px solid rgba(255,255,255,.06);
}
.nav-link:hover{border-color: rgba(34,211,238,.35)}

.auth-chip{display:flex; align-items:center; gap:8px}
.auth-chip .id-badge{
  background:linear-gradient(135deg, rgba(34,197,94,.15), rgba(34,197,94,.05));
  border:1px solid rgba(34,197,94,.35);
  padding:6px 10px; border-radius:12px;
  box-shadow: var(--shadow);
  display:flex; gap:10px; align-items:center;
}
.auth-chip .meta{font-size:12px; color:var(--muted)}

/* Burger button */
.icon-btn{background:transparent; border:none; color:var(--muted); font-size:22px; cursor:pointer}
.burger{width:42px; height:38px; display:grid; place-items:center; border-radius:12px; border:1px solid rgba(255,255,255,.06)}
.burger span{display:block; width:20px; height:2px; background:#cfe9da; margin:3px 0; border-radius:2px; transition:.25s}
.burger[aria-expanded="true"] span:nth-child(1){transform:translateY(5px) rotate(45deg)}
.burger[aria-expanded="true"] span:nth-child(2){opacity:0}
.burger[aria-expanded="true"] span:nth-child(3){transform:translateY(-5px) rotate(-45deg)}

/* App container */
.app{padding:20px; min-height:calc(100vh - 140px);}

/* Footer */
.site-footer{
  border-top:1px solid rgba(255,255,255,.06);
  padding:18px 16px; display:flex; align-items:center; justify-content:space-between;
  background: var(--bg-2);
  color: var(--muted);
}

/* Buttons */
.btn{
  appearance:none; border:none; cursor:pointer; padding:10px 14px; border-radius:12px;
  background: #1f2937; color:#f3f4f6; font-weight:600;
  border:1px solid rgba(255,255,255,.06);
  box-shadow: var(--shadow);
}
.btn.wide{width:100%}
.btn.primary{background:linear-gradient(180deg, #111827, #0f172a)}
.btn.success{background:linear-gradient(180deg, #064e3b, #065f46)}
.btn:active{transform:translateY(1px)}

/* Forms */
.form{display:grid; gap:12px}
.form-row{display:grid; gap:6px}
label{font-size:14px; color: var(--muted)}
input{
  background: var(--bg-3); color:var(--txt); border:1px solid rgba(255,255,255,.08);
  border-radius:10px; padding:10px 12px; outline:none;
}
input:focus{border-color: rgba(34,211,238,.45); box-shadow:0 0 0 3px rgba(34,211,238,.15)}

/* Modal */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center}
.modal[aria-hidden="false"]{display:flex}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.55)}
.modal-card{
  position:relative; z-index:2;
  width:min(880px, 94vw); max-height:90vh; overflow:auto;
  background:linear-gradient(180deg, #0b1411, #0f1916); border:1px solid rgba(255,255,255,.08);
  padding:0; border-radius:18px; box-shadow: var(--shadow);
}
.modal-head{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  padding:10px; border-bottom:1px solid rgba(255,255,255,.06); background: var(--bg-2); border-top-left-radius:18px; border-top-right-radius:18px;
}
.tabs{display:flex; gap:8px}
.tab{padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.06); background: var(--bg-3); color:var(--txt); cursor:pointer}
.tab.active{border-color: rgba(34,211,238,.45); box-shadow:0 0 0 3px rgba(34,211,238,.15)}

.modal-body{padding:16px; display:grid; gap:16px}
.subtabs{display:flex; gap:8px; flex-wrap:wrap}
.subtab{padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,.06); background: var(--bg-3); color:var(--txt)}
.subtab.active{border-color: rgba(34,211,238,.45)}

.subpanel{display:none}
.subpanel.active{display:block}
.tab-panel{display:none}
.tab-panel.active{display:block}

.msg{min-height:20px; font-size:14px}
.msg.error{color:var(--danger)}
.msg.ok{color:var(--ok)}
.muted{color:var(--muted)}
.small{font-size:12px}
.hidden{display:none}

/* ===== Side Panel styles ===== */
.side-panel{position:fixed; inset:0; z-index:80; display:none}
.side-panel[aria-hidden="false"]{display:block}
.panel-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.5); opacity:0; transition:opacity .25s}
.panel-card{
  position:absolute; top:0; left:0; height:100%; width:min(86vw, 360px);
  background: radial-gradient(120% 100% at -10% -10%, rgba(52,211,153,.1), transparent 60%),
              linear-gradient(180deg, #0b1411, #0f1916);
  border-right:1px solid rgba(255,255,255,.08);
  transform:translateX(-102%); transition:transform .28s cubic-bezier(.2,.8,.2,1);
  box-shadow: 0 30px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
  perspective:1000px; /* 3D feel */
}
.side-panel[aria-hidden="false"] .panel-backdrop{opacity:1}
.side-panel[aria-hidden="false"] .panel-card{transform:translateX(0)}

.panel-head{display:flex; align-items:center; justify-content:space-between; padding:12px 12px; border-bottom:1px solid rgba(255,255,255,.06)}
.panel-body{padding:12px; display:grid; gap:14px; height:calc(100% - 56px); overflow:auto}
.panel-nav{display:grid; gap:6px}
.panel-link{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; text-decoration:none; color:var(--txt);
  border:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, #0d1714, #0e1815);
  transition: transform .12s ease;
}
.panel-link:hover{border-color: rgba(34,211,238,.35); transform:translateX(2px)}
.panel-sep{height:1px; background:linear-gradient(90deg, rgba(255,255,255,.06), transparent)}

.panel-user{padding:10px 12px; border:1px dashed rgba(255,255,255,.08); border-radius:12px; background:rgba(255,255,255,.02)}

/* Reduce top nav on small screens */
@media (max-width: 900px){
  .site-nav{display:none}
  .brand .title{display:none}
  .site-header{gap:8px}
}


/* ===== THEME: light overrides ===== */
:root[data-theme="light"]{
  --bg: #f6fbf9;
  --bg-2: #ecf6f1;
  --bg-3: #e9f3ee;
  --card: #ffffff;
  --txt: #0b1210;
  --muted: #4f6b5e;
  --shadow: 0 10px 25px rgba(0,0,0,.10), inset 0 1px 0 rgba(255,255,255,.6);
}
:root[data-theme="light"] .site-header{
  background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.75));
}

/* ===== Auth chip (compact badge with SVGs) ===== */
.auth-chip{display:flex; align-items:center; gap:8px}
.id-badge{
  display:flex; align-items:center; gap:10px;
  padding:6px 10px; border-radius:14px;
  background:linear-gradient(180deg, rgba(52,211,153,.16), rgba(52,211,153,.08));
  border:1px solid rgba(52,211,153,.35);
  box-shadow: var(--shadow);
  white-space:nowrap;
}
.id-badge .pill{display:flex; align-items:center; gap:6px}
.id-badge .sep{width:1px; height:18px; background:rgba(255,255,255,.12)}
:root[data-theme="light"] .id-badge .sep{background:rgba(0,0,0,.08)}

.icon-12{width:16px; height:16px; display:inline-block; vertical-align:-2px; opacity:.95}
.icon-12 path{fill:#9ae6b4}
:root[data-theme="light"] .icon-12 path{fill:#10b981}

/* Hide labels on small screens (keep icons + numbers) */
@media (max-width: 520px){
  .lbl{display:none}
  .id-badge{gap:8px; padding:6px 8px}
}

/* Theme toggle */
.theme-toggle{width:40px; height:36px; border:1px solid rgba(255,255,255,.06); border-radius:12px}
:root[data-theme="light"] .theme-toggle{border-color: rgba(0,0,0,.08)}
.theme-toggle::before{
  content:""; display:block; width:18px; height:18px; margin:auto;
  mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64 13a1 1 0 0 0-1.05-1.36 7 7 0 0 1-8.23-8.23A1 1 0 0 0 11 2.36 9 9 0 1 0 21.64 13z"/></svg>') no-repeat center / contain;
  background:#cfe9da;
}
:root[data-theme="light"] .theme-toggle::before{
  mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.8 1.8-1.8zM1 13h3v-2H1v2zm10 10h2v-3h-2v3zM4.84 20.83l1.79-1.79-1.8-1.8-1.79 1.8 1.8 1.79zM20 11V9h-3v2h3zm-1.76-6.16l-1.79 1.8 1.8 1.79 1.79-1.8-1.8-1.79zM13 1h-2v3h2V1zm6.16 15.24l-1.8-1.79-1.79 1.8 1.79 1.79 1.8-1.8z"/></svg>');
  background:#16a34a;
}

/* Smooth theme transition */
html, body, .site-header, .site-footer, .modal-card, .panel-card, .id-badge{
  transition: background .25s, color .25s, border-color .25s, box-shadow .25s;
}
