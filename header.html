<header class="main-header">
  <div class="container">
    <!-- Logo -->
    <div class="logo">
      <a href="index.html">XplusY.uz</a>
    </div>

    <!-- Foydalanuvchi ma'lumotlari -->
    <nav class="user-info">
      <img id="userAvatar" src="default-avatar.png" alt="Avatar" class="avatar" onclick="goProfile()">
      <span>ID: <span id="userId">---</span></span>
      <span>Balans: <span id="userBalance">0</span></span>
      <span>Ball: <span id="userPoints">0</span></span>
      <button id="refreshUser">ðŸ”„ Yangilash</button>
    </nav>
  </div>
</header>

<script>
  // Profilga o'tish
  function goProfile(){
    window.location.href = "profile.html"; 
  }

  // Foydalanuvchi ma'lumotlarini yangilash
  document.addEventListener("click", async (e)=>{
    if(e.target.id === "refreshUser"){
      // Test uchun hozircha ID 100001 qilyapmiz
      const user = await getUser("100001"); 
      if(user){
        document.getElementById("userId").textContent = user.id;
        document.getElementById("userBalance").textContent = user.balance;
        document.getElementById("userPoints").textContent = user.points;

        if(user.avatar){
          document.getElementById("userAvatar").src = user.avatar;
        }
      }
    }
  });
</script>
