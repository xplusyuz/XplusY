<section class="home-banners">
<style>.hb-wrap{display:grid;gap:16px}.hb-banner{display:grid;grid-template-columns:1fr;gap:14px;background:linear-gradient(180deg,#ffffff,#f2fff9);border:1px solid #eaf7f1;border-radius:20px;padding:14px;box-shadow:0 14px 30px rgba(10,143,82,.10),0 2px 6px rgba(0,0,0,.04);overflow:hidden;position:relative}.hb-media{aspect-ratio:16/9;width:100%;border-radius:16px;background:#eaf7f1 center/cover no-repeat;border:1px solid #def3ea}.hb-body{display:flex;flex-direction:column;gap:10px;padding:2px}.hb-title{font-weight:900}.hb-cta{align-self:flex-start;background:#0faf64;color:#fff;border:0;border-radius:12px;padding:10px 16px;font-weight:900;text-decoration:none;box-shadow:0 10px 24px rgba(15,175,100,.35)}</style>
<div class="hb-wrap" id="hbWrap"><div class="hb-banner"><div class="hb-media"></div><div class="hb-body"><div class="hb-title">Yuklanmoqda…</div></div></div></div>
<script type="module">
import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, query, where, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
const cfg = {"apiKey": "AIzaSyDYwHJou_9GqHZcf8XxtTByC51Z8un8rrM", "authDomain": "xplusy-760fa.firebaseapp.com", "projectId": "xplusy-760fa", "storageBucket": "xplusy-760fa.appspot.com", "messagingSenderId": "992512966017", "appId": "1:992512966017:web:5e919dbc9b8d8abcb43c80", "measurementId": "G-459PLJ7P7L"}; const app = getApps().length ? getApp() : initializeApp(cfg); const db = getFirestore(app);
const wrap = document.getElementById('hbWrap');
const q = query(collection(db,'home_banners'), where('active','==', true));
onSnapshot(q, (snap)=>{ const arr=[]; snap.forEach(d=>arr.push(d.data())); arr.sort((a,b)=>(b.createdAt||0)-(a.createdAt||0));
  wrap.innerHTML = arr.map((v,i)=>`<article class='hb-banner ${i%2?'is-right':''}'><div class='hb-media' style="background-image:url('${v.img||''}')"></div><div class='hb-body'><h3 class='hb-title'>${v.title||'—'}</h3><p>${v.meta||''}</p>${(v.btn&&v.link)?`<a class='hb-cta' href='${v.link}' target='_blank'>${v.btn}</a>`:''}</div></article>`).join('') || '<div>Banner yo‘q</div>';
}, (err)=>{ wrap.innerHTML = '<div>Xato: '+err.message+'</div>'; });
</script></section>
