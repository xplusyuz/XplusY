<!-- FOOTER FRAGMENT -->
<style>
  footer.xpy-footer {
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--granite-bg);
    border-top: 1px solid rgba(0,0,0,.06);
    margin-top: 2rem;
  }
  .xpy-foot-inner {
    max-width: 1100px; margin: 0 auto; padding: 1rem;
    display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;
  }
  .xpy-foot-links a {
    color: var(--text); text-decoration:none; padding:.3rem .6rem; border-radius:10px;
  }
  .xpy-foot-links a:hover { background:#fff; box-shadow: 0 6px 16px rgba(0,0,0,.06); }
  .muted { opacity:.7; }
</style>
<footer class="xpy-footer" data-xpy="footer">
  <div class="xpy-foot-inner">
    <div class="xpy-foot-links" id="xpyFootLinks"></div>
    <div class="muted" id="xpyCopy">© 2025 XplusY MathCenter</div>
  </div>
</footer>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
  const firebaseConfig = {"apiKey": "AIzaSyDYwHJou_9GqHZcf8XxtTByC51Z8un8rrM", "authDomain": "xplusy-760fa.firebaseapp.com", "projectId": "xplusy-760fa", "storageBucket": "xplusy-760fa.firebasestorage.app", "messagingSenderId": "992512966017", "appId": "1:992512966017:web:5e919dbc9b8d8abcb43c80", "measurementId": "G-459PLJ7P7L"};
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function loadConfig() {
    try {
      const ref = doc(db, "meta", "header_footer");
      const snap = await getDoc(ref);
      if (snap.exists()) return snap.data();
    } catch(e) {}
    try {
      const resp = await fetch("headerfooteradmin.json", {cache: "no-store"});
      if (resp.ok) return await resp.json();
    } catch(e) {}
    return null;
  }

  function renderFooter(cfg){
    if (!cfg?.footer) return;
    const wrap = document.getElementById("xpyFootLinks");
    wrap.innerHTML = "";
    (cfg.footer.links||[]).forEach(it => {
      const a = document.createElement("a");
      a.href = it.href; a.textContent = it.title;
      wrap.appendChild(a);
    });
    document.getElementById("xpyCopy").textContent = cfg.footer.copyright || "© 2025 XplusY MathCenter";
  }

  loadConfig().then(renderFooter);
</script>
